<div  class="dashboard-bg  mid-width pro-page-width">

    <div class="middle"> 
        <div class="profile news-pro-wrap">

            <!-- <rg-portal-slider></rg-portal-slider> -->

            <div  class="media-nav">

                <rg-portal-tab-nav></rg-portal-tab-nav> 

                <div style="position:relative; float: right; ">
                    <div class="box-search media-search">
                        <span class="img_sprite width-25px height-25px search-icon-25 p-absolute search-icon-p"></span>
                        <input type="text" name="s"
                               ng-model="searchText"
                               placeholder="Search following"/>
                        <div class="clear"></div>
                    </div>
                </div>
            </div>

            <!-- <rg-breaking-news></rg-breaking-news> -->

            <div class="news-flow-warp">


                <div class="news-flow-box" ng-repeat="portal in portalFollowMap.all()| mapFilter:{mapApi: 'getFullName', value: searchText}">
                    <div class="news-flow-img">
                        <img ng-src="{{portal.value.getFollowAndSliderImage()}}">
                    </div>
                    <div class="flow-cont">
                        <!-- <a ng-href="#/newsportal/{{portal.value.getUid()}}"><div class="flow-tx-name-in">{{portal.value.getFullName()}}</div></a> -->
                        <a ng-href="{{portal.value.getLink('profile')}}"><div class="flow-tx-name-in" ng-cloak="true">{{portal.value.getFullName()}}</div></a>
                        <div class="flow-inline-tx" ng-cloak="true">{{portal.value.getFollowerCountWithText()}}</div>
                        <div class="flow-inline-tx" ng-cloak="true">{{portal.value.getCategoryName()}}</div>
                        <div class="flow-tx-details" ng-cloak="true">
                            {{portal.value.getPortalSlogan()}}
                        </div>
                    </div>
                    <!-- <div class="mshare clickz">
                        <div class="mshare-icon"
                            rg-ringbox="true"
                            ringbox-controller="portalFollowController"
                            ringbox-target="templates/newsportal/portal-follow.popup.html"
                            ringbox-type="remote" 
                            ringbox-data="getPortalCatList(portal.value)">+</div>
                    </div> -->
                    <div class="mshare clickz" rg-dropdown="dropdown()"  dd-html="ddActionHtml"
                         dd-control="{portal:portal}" dd-action="actionFollowingDropdown">
                        <div class="img_sprite icon-down-arrow w-h-13"></div>
                    </div>
                </div>

                <!-- <div class="" ng-show="portalFollowMap.length() < 1">
                    <h1>You are not following any portal</h1>
                </div> -->


            </div>
            <div ng-if="isEmptyFollow">
                <rg-discover-portal tab-name="following"></rg-discover-portal>
            </div>
            <div class="news-load" ng-show="loadmore">
                <!--<button ng-show="loadmore && portalDiscoverMap.length() > 1" ng-click="loadMorePortal()">Load More</button>-->
                <a class="load-more"  rg-click="loadMoreFollowingPortal()" ng-show="portalFollowMap.length() > 9 && !showloadmore">Load More &raquo;</a>
                <a class="load-more-disabled"  ng-show="showloadmore"> 
                    <span class="load-circle">
                        <span class="ld-cir1 ld-cir"></span>
                        <span class="ld-cir2 ld-cir"></span>
                        <span class="ld-cir3 ld-cir"></span>
                        <span class="ld-cir4 ld-cir"></span>
                        <span class="ld-cir5 ld-cir"></span>
                        <span class="ld-cir6 ld-cir"></span>
                        <span class="ld-cir7 ld-cir"></span>
                        <span class="ld-cir8 ld-cir"></span>
                        <span class="ld-cir9 ld-cir"></span>
                        <span class="ld-cir10 ld-cir"></span>
                        <span class="ld-cir11 ld-cir"></span>
                        <span class="ld-cir12 ld-cir"></span>
                    </span>
                    Loading...</a>
            </div>

        </div>



    </div>
</div>
