/*! Ringid.com 2015-11-18 */

!function(a,b){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1}),String.prototype.repeat||(String.prototype.repeat=function(a){return Array(a+1).join(this)}),String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))},String.prototype.toCharCodeArray=function(){for(var a=[],b=0;b<this.length;b++)a.push(this.charCodeAt(b));return a},Array.prototype.joinAsDataView=function(){var a,c,d=this,e=0,f=0;if(!d.length)return new b(new ArrayBuffer(0));for(var g=0;g<d.length;g++)d[g]instanceof b&&(f+=d[g].byteLength);if(!f)return new b(new ArrayBuffer(0));a=new ArrayBuffer(f),c=new b(a);for(var g=0;g<d.length;g++)if(d[g]instanceof b)for(var h=0;h<d[g].byteLength;h++)c.setUint8(e++,d[g].getUint8(h));return c},Array.prototype.difference=function(a){if(!a||!a.length||!this.length)return this;for(var b={},c=[],d=0;d<a.length;)b[a[d]]=!0,d++;for(d=0;d<this.length;d++)b[this[d]]||c.push(this[d]);return c},b.prototype.copy=function(a,c){return new b(this.buffer,a,c)},b.prototype.merge=function(a,c,d,e,f){var g,h,i=new b(this.buffer,a,c),j=new ArrayBuffer(i.byteLength+(f-e+1)),k=new b(j);for(g=0;g<i.byteLength;g++)k.setUint8(g,i.getUint8(g));for(h=g;h<k.byteLength;h++)k.setUint8(h,d.getUint8(e++));return k},b.prototype.addAttributeInt=function(a,b,c,d){switch(this.setUint8(a++,b),this.setUint8(a++,c),c){case 1:this.setUint8(a++,d);break;case 2:this.setUint16(a,d),a+=2;break;case 4:this.setUint32(a,d),a+=4}return a},b.prototype.addAttributeString=function(a,b,c){this.setUint8(a++,b),this.setUint8(a++,c.length);for(var d=0;d<c.length;d++)this.setUint8(a++,c.charCodeAt(d));return a},b.prototype.addAttributeData=function(a,b,c,d,e){d=d||0,e=e||c.byteLength,this.setUint8(a++,b),this.setUint16(a,e),a+=2;for(var f=0;e>f;f++)this.setUint8(a++,c.getUint8(d++));return a},b.prototype.print_r=function(a,b,c){b=b||0,c=c||this.byteLength;for(var d,e,f="Index		Binary		Integer		Char\n",g="",h=b;c>h;h++)e=this.getUint8(h),d=String.fromCharCode(e),f+=h+"		 		"+e.toString(2)+"				"+e+"				"+d+"\n",g+=d},b.prototype.getString=function(a,b){var c,d,e,f,g=this,h=[];for(b=b||g.byteLength;b>0;)c=g.getUint8(a),g.getUint8(a)<=127?(h.push(g.getUint8(a++)),b--):g.getUint8(a)>=128&&g.getUint8(a)<=223?(h.push((31&g.getUint8(a++))<<6|63&g.getUint8(a++)),b-=2):g.getUint8(a)>=224&&g.getUint8(a)<=239?(h.push((31&g.getUint8(a++))<<12|((63&g.getUint8(a++))<<6|63&g.getUint8(a++))),b-=3):(f=(7&g.getUint8(a++))<<18|((63&g.getUint8(a++))<<12|((63&g.getUint8(a++))<<6|63&g.getUint8(a++))),f-=65536,d=(f>>10)+55296,e=f%1024+56320,h.push(d,e),b-=4);return String.fromCharCode.apply(null,h)},b.prototype.getIntByByte=function(a,b){var c=this;switch(b){case 1:return c.getUint8(a);case 2:return c.getUint16(a);case 4:return c.getUint32(a);case 6:case 8:var d,e,f="";for(d=a;a+b>d;d++)e=c.getUint8(d).toString(2),f+=e.length<8?"0".repeat(8-e.length)+e:e;return parseInt(f,2);default:return c.getUint8(a)}},b.prototype.getBool=function(a){return 1===this.getUint8(a)}}(window,DataView),function(){"use strict";angular.module("ringid.config",[]).value("settings",{siteUrl:"localhost:8080",baseUrl:location.protocol+"//"+location.host+"/",base:location.host,apiUrl:"http://dev.ringid.com:90/APIRequest?",imBase:"http://image.ringid.com/uploaded/",chatImBase:"http://image.ringid.com/chatContens/",imServer:"http://image.ringid.com/ringmarket/",emoticonBase:"http://localhost:8080/images/emoticon/",stickerBase:"http://image.ringid.com/ringmarket/StickerHandler/",stickerImageBase:"http://image.ringid.com/stickermarket/d5/",FEED_LIMIT:10,COVER_PIC_UPLOAD_MAXIMUM_WIDTH:1480,COVER_PIC_UPLOAD_MAXIMUM_HEIGHT:2048,COVER_PIC_UPLOAD_MINIMUM_WIDTH:740,COVER_PIC_UPLOAD_MINIMUM_HEIGHT:280,PROFILE_PIC_UPLOAD_MINIMUM_WIDTH:100,PROFILE_PIC_UPLOAD_MINIMUM_HEIGHT:100,COVER_PIC_CROP_WIDTH:1480,COVER_PIC_CROP_HEIGHT:547,PROFILE_PIC_CROP_WIDTH:200,IMAGE_UPLOAD_MIN_WIDTH:10,IMAGE_UPLOAD_MIN_HEIGHT:10,LEFT_BAR_WIDTH:200,RIGHT_BAR_WIDTH:200,CELL_MARGIN:10}).constant("RING_ROUTES",{HOME:"/",USER_PROFILE:"/profile/:utId/:uId/:subpage?",CIRCLE_HOME:"/circle/:circleId/:subpage?",WHO_SHARED_FEED:"/feed_shares/:feedId",SINGLE_FEED:"/feed/:feedId/:shared?",SINGLE_IMAGE:"/image/:imageId",FAQ:"/faq"}).constant("REASON_CODES",{NONE:0,PERMISSION_DENIED:1,PASSCODE_SENT_INTERVAL:2,DONT_DISTURB_MODE:3,ALREADY_SHARED:4,NOT_TAG_MEMBER:5,TAG_DOES_NOT_EXIST:6,SMS_SENDING_FAILED:7,EMAIL_SENDING_FAILED:8,FRIEND_OFFLINE:9,NOT_FRIEND:10,USERID_FRIENDID_SAME:11,ALREADY_FRIEND_REQUESTED:12,EXCEPTION_OCCURED:13,DATABASE_ROLL_BACKED:14,CANT_SHARE_OWN_FEED:15,FRIEND_DID_NOT_FOUND:16,SMS_SEND_RETRY_LIMIT_OVER:17,NO_MORE_FEED:18,NOT_FOUND:404}).constant("MESSAGES",{REQUEST_PROCESSED:"Your Request Was Successfully Processed",REQUEST_FAILED:"Your Request Was Failed ! Please Try Later.",RC15:"You Can't Share Your Own Post",RC10:"You are not permitted to share this post"}).constant("DATA_TYPES",{DT_FEED:1,DT_FRIENDS:2,DT_UMAYKNOW:3,DT_GROUP:4,DT_NOTIFICATION:5,DT_ALBUM:6,DT_LOGOUT:7,DT_WORK_EDUCATION_SKILL:8,DT_RING_CALL:9}).constant("UPDATE_TYPES",{FEED:1,COMMENT:2,LIKE:3,SHARE:4,STATUS:5,NO_MORE_FEED:6}).constant("APP_CONSTANTS",{NOT_FRIEND:0,FRIEND:1,INCOMING_FRIEND:2,OUTGOING_FRIEND:3,TYPE_SEARCH_BY_ALL:0,TYPE_SEARCH_BY_NAME:1,TYPE_SEARCH_BY_PHONE:2,TYPE_SEARCH_BY_EMAIL:3,TYPE_SEARCH_BY_RINGID:4,TYPE_SEARCH_BY_LOCATION:5}).constant("ATTRIBUTE_CODES",{AUTHIP:1001,AUTHPORT:1002,AUTH_E_USERNAME:1003,AUTH_E_PASSWORD:1004,AUTH_E_SALT:1005,ACTION:1,SERVER_PACKET_ID:2,SESSION_ID:3,TOTAL_PACKET:4,PACKET_NUMBER:5,UNIQUE_KEY:6,USER_ID:7,FRIEND_ID:8,DEVICE:9,CLIENT_PACKET_ID:10,CALL_ID:11,FRIEND_IDENTITY:12,CALL_TIME:13,PRESENCE:14,IS_DEVIDED_PACKET:15,USER_IDENTITY:16,USER_NAME:17,TOTAL_RECORDS:18,USER_TABLE_IDS:19,SUCCESS:20,MESSAGE:21,REASON_CODE:22,STATUS:23,DELETED:24,WEB_UNIQUE_KEY:28,WEB_TAB_ID:29,DATA:127,CONTACT:101,CONTACT_TYPE:102,NEW_CONTACT_TYPE:103,FRIENDSHIP_STATUS:104,BLOCK_VALUE:105,CHANGE_REQUESTER:106,CONTACT_UPDATE_TIME:107,MUTUAL_FRIEND_COUNT:108,CALL_ACCESS:110,CHAT_ACCESS:111,FEED_ACCESS:112,ANONYMOUS_CALL:9,PASSWORD:128,RESET_PASSWORD:129,EMAIL:130,DEVICE_UNIQUE_ID:131,DEVICE_TOKEN:132,MOBILE_PHONE:133,BIRTH_DATE:134,MARRIAGE_DAY:135,GENDER:136,COUNTRY_ID:137,CURRENT_CITY:138,HOME_CITY:139,LANGUAGE_ID:140,REGISTRATION_DATE:141,DIALING_CODE:142,IS_MY_NUMBER_VERIFIED:143,IS_EMAIL_VERIFIED:145,MY_NUMBER_VERIFICATION_CODE:146,MYNUMBER_VERIFICATION_CODE_SENT_TIME:147,EMAIL_VERIFICATION_CODE:148,RECOVERY_VERIFICATION_CODE:149,RECOVERY_VERIFICATION_CODE_SENT_TIME:150,PROFILE_IMAGE:151,PROFILE_IMAGE_ID:152,COVER_IMAGE:153,COVER_IMAGE_ID:154,COVER_IMAGE_X:155,COVER_IMAGE_Y:156,ABOUT_ME:157,TOTAL_FRIENDS:158,RING_EMAIL:159,UPDATE_TIME:160,NOTIFICATION_VALIDITY:161,WEB_LOGIN_ENABLED:162,PC_LOGIN_ENABLED:163,COMMON_FRIEND_SUGGESTION:164,PHONE_NUMBER_SUGGESTION:165,CONTACT_LIST_SUGGESTION:166}).constant("OPERATION_TYPES",{SYSTEM:{VERSION:135,REQUEST_TYPE:{KEEP_ALIVE:1,CONFIRMATION:2,AUTHENTICATION:3,UPDATE:4,REQUEST:5,CALL:6,CHAT:7},TYPE_KEEP_ALIVE:26,TYPE_SINGLE_STATUS_NOTIFICATION_OR_SHARE_DETAILS:114,TYPE_NEWS_FEED:88,TYPE_MY_NEWS_FEED:94,TYPE_FRIEND_NEWSFEED:110,TYPE_GROUP_NEWS_FEED:198,TYPE_COMMENTS_FOR_STATUS:84,ACTION_SHARE_STATUS:191,TYPE_ADD_MULTI_IMAGE:117,TYPE_ADD_STATUS:177,TYPE_SINGLE_IMAGE_STATUS:1,TYPE_TEXT_STATUS:2,TYPE_MULTI_IMAGE_STATUS:3,TYPE_DELETE_STATUS:179,TYPE_EDIT_STATUS:178,TYPE_LIKE_STATUS:184,TYPE_UNLIKE_STATUS:186,TYPE_ADD_STATUS_COMMENT:181,TYPE_LIKE_COMMENT:123,TYPE_UNLIKE_COMMENT:125,TYPE_DELETE_STATUS_COMMENT:183,TYPE_EDIT_STATUS_COMMENT:189,TYPE_LIKES_FOR_STATUS:92,TYPE_LIKES_FOR_IMAGE:93,TYPE_IMAGE_COMMENT_LIKES:196,TYPE_LIST_LIKES_OF_COMMENT:116,TYPE_WHO_SHARES_LIST:249,TYPE_UPDATE_ADD_STATUS:377,TYPE_UPDATE_EDIT_STATUS:378,ACTION_UPDATE_SHARE_STATUS:391,TYPE_UPDATE_LIKE_STATUS:384,TYPE_UPDATE_UNLIKE_STATUS:386,TYPE_UPDATE_DELETE_STATUS:379,TYPE_UPDATE_ADD_STATUS_COMMENT:381,TYPE_UPDATE_LIKE_COMMENT:323,TYPE_UPDATE_UNLIKE_COMMENT:325,TYPE_UPDATE_DELETE_STATUS_COMMENT:383,TYPE_UPDATE_EDIT_STATUS_COMMENT:389,ALBUM:{TYPE_UPLOAD_ALBUM_IMAGE:85,TYPE_UPDATE_UPLOAD_ALBUM_IMAGE:90,TYPE_DELETE_ALBUM_IMAGE:176,TYPE_UPDATE_DELETE_ALBUM_IMAGE:376,CREATE_ALBUM:1,GET_IMAGE_UPLOAD_INFO:2,GET_ALBUM_LIST:3,GET_ALBUM_DETAILS:4,GET_ALL_IMAGES:5},AUTH:{TYPE_INVALID_LOGIN_SESSION:19,TYPE_SIGN_IN:20,TYPE_SIGN_OUT:22,TYPE_SIGN_UP:21,TYPE_SESSION_VALIDATION:76,TYPE_MULTIPLE_SESSION:75,SIGNUP_INIT:2,SIGNUP_SEND_EMAIL:3,SIGNUP_VERIFY_EMAIL:4,SIGNUP:5},FRIENDS:{TYPE_CONTACT_UTIDS:29,TYPE_CONTACT_LIST:23,TYPE_PEOPLE_YOU_MAY_KNOW:106,TYPE_FRIEND_CONTACT_LIST:107,TYPE_CONTACT_SEARCH:34,ACTION_FRIEND_SEARCH:35,TYPE_ADD_FRIEND:127,TYPE_UPDATE_ADD_FRIEND:327,TYPE_DELETE_FRIEND:128,TYPE_UPDATE_DELETE_FRIEND:328,TYPE_ACCEPT_FRIEND:129,TYPE_UPDATE_ACCEPT_FRIEND:329,TYPE_ACTION_BLOCK_UNBLOCK_FRIEND:243,TYPE_ACTION_CHANGE_FRIEND_ACCESS:244},NOTIFICATION:{TYPE_MY_NOTIFICATIONS:111,TYPE_SINGLE_NOTIFICATION:113,CLEAR_NOTIFICATION_COUNTER:195,GET_NOTIFICATION:4,REDIRECT_INFO:5,NOTIFICATION_DETAILS:6,MSG_TYPE_UPDATE_PROFILE_IMAGE:1,MSG_TYPE_UPDATE_COVER_IMAGE:2,MSG_TYPE_ADD_FRIEND:3,MSG_TYPE_ACCEPT_FRIEND:4,MSG_TYPE_ADD_GROUP_MEMBER:5,MSG_TYPE_ADD_STATUS_COMMENT:6,MSG_TYPE_LIKE_STATUS:7,MSG_TYPE_LIKE_COMMENT:8,MSG_TYPE_ADD_COMMENT_ON_COMMENT:9,MSG_TYPE_SHARE_STATUS:10,MSG_TYPE_LIKE_IMAGE:11,MSG_TYPE_IMAGE_COMMENT:12,MSG_TYPE_LIKE_IMAGE_COMMENT:13,MSG_TYPE_UPGRADE_FRIEND_ACCESS:14,MSG_TYPE_ACCEPT_FRIEND_ACCESS:15,MSG_TYPE_DOWNGRADE_FRIEND_ACCESS:16,NOTIFICATION_NOW_FRIEND:17},CIRCLE:{TYPE_CREATE_GROUP:50,TYPE_LEAVE_GROUP:53,TYPE_GROUP_LIST:70,TYPE_GROUP_MEMBERS_LIST:99,TYPE_DELETE_GROUP:152,TYPE_REMOVE_GROUP_MEMBER:154,TYPE_ADD_GROUP_MEMBER:156,TYPE_EDIT_GROUP_MEMBER:158,TYPE_UPDATE_ADD_GROUP:352,TYPE_UPDATE_DELETE_GROUP:352,TYPE_UPDATE_REMOVE_GROUP_MEMBER:354,TYPE_UPDATE_ADD_GROUP_MEMBER:356,TYPE_UPDATE_EDIT_GROUP_MEMBER:358,TYPE_UPDATE_ADD_TO_GROUP_BY_FRIEND:51},CHAT_CIRCLE:{CREATE_CIRCLE:105,EDIT_CIRCLE:119,DELETE_CIRCLE:226,LIST_CIRCLES:225,ADD_MEMBER:240,REMOVE_MEMBER:242,JOIN_GROUP:240,LEAVE_GROUP:242},IMAGE:{PROFILE_IMAGE_ALBUM_ID:"profileimages",COVER_IMAGE_ALBUM_ID:"coverimages",FEED_IMAGE_ALBUM_ID:"default",TYPE_FRIEND_ALBUM_IMAGES:109,FETCH_ALBUM_LIST:96,FETCH_FRIEND_ALBUM_LIST:108,TYPE_ALBUM_IMAGES:97,TYPE_COMMENTS_FOR_IMAGE:89,TYPE_LIKES_FOR_IMAGE:93,TYPE_LIKE_IMAGE:185,TYPE_IMAGE_DETAILS:121,TYPE_EDIT_IMAGE_COMMENT:194,TYPE_ADD_IMAGE_COMMENT:180,TYPE_DELETE_IMAGE_COMMENT:182,TYPE_UPDATE_ADD_IMAGE_COMMENT:380,TYPE_UPDATE_EDIT_IMAGE_COMMENT:394,TYPE_UPDATE_DELETE_IMAGE_COMMENT:382,TYPE_UPDATE_LIKE_IMAGE:385,TYPE_UNLIKE_IMAGE:187,TYPE_UPDATE_UNLIKE_IMAGE:387,TYPE_LIKE_UNLIKE_IMAGE_COMMENT:197,TYPE_UPDATE_LIKE_UNLIKE_IMAGE_COMMENT:397},PROFILE:{TYPE_ACTION_GET_USER_DETAILS:204,TYPE_USER_DETAILS:95,TYPE_CHANGE_COVER_PIC:103,TYPE_CHANGE_PROFILE_PIC:63,TYPE_REMOVE_PROFILE_IMAGE:43,TYPE_REMOVE_COVER_IMAGE:104,CHANGE_PASSWORD:130,ACTION_USERS_PRESENCE_DETAILS:136,ACTION_USERS_PRESENCE_DETAILS_DATA:336}},STICKER:{GET_CATEGORIES:5,GET_MY_STICKER:206,ADD_REMOVE_STICKER:207,ADD_JT_VALUE:1,REMOVE_JT_VALUE:3},SYSTEM_TYPE:{PHN_MAIL_VERIFICATION_CHECK:28,PHN_MAIL_VERIFICATION_CHECK_FRIEND:95,TYPE_NEWS_FEED:88,TYPE_ACTION_GET_USER_DETAILS:204,TYPE_ACTION_LIST_WORK_AND_EDUCATIONS:230,TYPE_ACTION_CURRENT_USER_BASICINFO:21,TYPE_ACTION_OTHER_USER_BASICINFO:95,TYPE_ACTION_MODIFY_USER_PROFILE:25,TYPE_ACTION_MODIFY_PRIVACY_SETTINGS:74,ACTION_UPDATE_LOGIN_SETTINGS:216,SEND_VERIFICATION_CODE_TO_MAIL:221,SEND_VERIFICATION_CODE_TO_PHONE:212,TYPE_ACTION_ADD_EDUCATION:231,TYPE_ACTION_UPDATE_EDUCATION:232,TYPE_ACTION_REMOVE_EDUCATION:233,TYPE_ACTION_ADD_SKILL:237,TYPE_ACTION_UPDATE_SKILL:238,TYPE_ACTION_REMOVE_SKILL:239,TYPE_ACTION_ADD_WORK:227,TYPE_ACTION_UPDATE_WORK:228,TYPE_ACTION_REMOVE_WORK:229,TYPE_ACTION_USER_MOOD:193}}).constant("CUSTOM_PROMISE",{REQUEST_SENT:"SENT"}).constant("MOUSE_CLICK",{LEFT_CLICK:1,MIDDLE_CLICK:2,RIGHT_CLICK:3}).constant("CLIENT_DATA_SIZE",460).value("DATE_FORMAT","MMM d, y h:mm a").constant("CHAT_PACKET_FORMAT",{REGISTER_PKT:{PACKET_NAME:"REGISTER_PKT",PACKET_TYPE:1,FORMAT:[1,2,3,4,5,6]},FRIEND_UNREGISTER_PKT:{PACKET_NAME:"FRIEND_UNREGISTER_PKT",PACKET_TYPE:2,FORMAT:[1,2,3,9,10]},REGISTER_CONFIRM_PKT:{PACKET_NAME:"REGISTER_CONFIRM_PKT",PACKET_TYPE:3,FORMAT:[1,3,4,5,7]},CHAT_MSG:{PACKET_NAME:"CHAT_MSG",PACKET_TYPE:5,FORMAT:[1,2,3,4,5,11,12,13,14,15,16,17]},DELIVER_PKT:{PACKET_NAME:"DELIVER_PKT",PACKET_TYPE:6,FORMAT:[1,2,3,4,5]},SEEN_PKT:{PACKET_NAME:"SEEN_PKT",PACKET_TYPE:7,FORMAT:[1,2,3,4,5]},TYPING_PKT:{PACKET_NAME:"TYPING_PKT",PACKET_TYPE:9,FORMAT:[1,2,3]},IDLE_PKT:{PACKET_NAME:"IDLE_PKT",PACKET_TYPE:10,FORMAT:[1,2,3]},DELETE_PKT:{PACKET_NAME:"DELETE_PKT",PACKET_TYPE:24,FORMAT:[1,2,3,4,5]},DELETE_CONFIRM_PKT:{PACKET_NAME:"DELETE_CONFIRM_PKT",PACKET_TYPE:25,FORMAT:[1,2,3,4,5]},TAG_REGISTER_PKT:{PACKET_NAME:"TAG_REGISTER_PKT",PACKET_TYPE:12,FORMAT:[1,2,8,4,5,6]},TAG_UNREGISTER_PKT:{PACKET_NAME:"TAG_UNREGISTER_PKT",PACKET_TYPE:4,FORMAT:[1,2,8,9,10]},TAG_REGISTER_CONFIRM_PKT:{PACKET_NAME:"TAG_REGISTER_CONFIRM_PKT",PACKET_TYPE:13,FORMAT:[1,8,4,5,7]},TAG_CHAT_MSG:{PACKET_NAME:"TAG_CHAT_MSG",PACKET_TYPE:14,FORMAT:[1,2,8,4,5,19,20,11,12,13,14,15,16,17]},TAG_DELIVER_PKT:{PACKET_NAME:"TAG_DELIVER_PKT",PACKET_TYPE:15,FORMAT:[1,2,3,8,4,5]},TAG_SEEN_PKT:{PACKET_NAME:"TAG_SEEN_PKT",PACKET_TYPE:16,FORMAT:[1,2,3,8,4,5]},TAG_TYPING_PKT:{PACKET_NAME:"TAG_TYPING_PKT",PACKET_TYPE:18,FORMAT:[1,2,8]},TAG_IDLE_PKT:{PACKET_NAME:"TAG_IDLE_PKT",PACKET_TYPE:19,FORMAT:[1,2,8]},TAG_DELETE_PKT:{PACKET_NAME:"TAG_DELETE_PKT",PACKET_TYPE:26,FORMAT:[1,2,8,4,5]},TAG_DELETE_CONFIRM_PKT:{PACKET_NAME:"TAG_DELETE_CONFIRM_PKT",PACKET_TYPE:27,FORMAT:[1,2,3,8,4,5]},OFFLINE_REGISTER_PKT:{PACKET_NAME:"OFFLINE_REGISTER_PKT",PACKET_TYPE:22,FORMAT:[1,2,4,5]},OFFLINE_CONFIRM_PKT:{PACKET_NAME:"OFFLINE_CONFIRM_PKT",PACKET_TYPE:23,FORMAT:[1,4,5,17]},FRIEND_OFFLINE_PKT:{PACKET_NAME:"FRIEND_OFFLINE_PKT",PACKET_TYPE:20,FORMAT:[1,4,5,18,1,2,4,5,21,22,11,12,13,14,15,16,17]},TAG_OFFLINE_PKT:{PACKET_NAME:"TAG_OFFLINE_PKT",PACKET_TYPE:21,FORMAT:[1,4,5,18,1,2,8,4,5,21,22,19,20,11,12,13,14,15,16,17]},TAG_FRIEND_LIST_PKT:{PACKET_NAME:"TAG_FRIEND_LIST_PKT",PACKET_TYPE:34,FORMAT:[1,2,8,4,5,23,2]},FRIEND_OFFLINE_CONFIRM_PKT:{PACKET_NAME:"FRIEND_OFFLINE_CONFIRM_PKT",PACKET_TYPE:58,FORMAT:[1,2,4,5,18,4,5]},TAG_OFFLINE_CONFIRM_PKT:{PACKET_NAME:"TAG_OFFLINE_CONFIRM_PKT",PACKET_TYPE:59,FORMAT:[1,2,4,5,17,18,4,5]}})}(),function(){"use strict";function a(){function a(a,b,c){function d(c){var d,e,f;e=b[0].scrollHeight-b[0].offsetHeight,f=b[0].offsetHeight-o,d=c/f,b[0].scrollTop=e*d,c=Math.min(Math.max(c,0),f),m.css("top",c+"px"),c==f&&angular.isFunction(a.bottomReached)&&a.bottomReached()}function e(){var a;o=Math.max(b[0].offsetHeight/b[0].scrollHeight*b[0].offsetHeight,h.minThumbHeight),(isNaN(o)||"Infinity"==o)&&(o=0),a=o>=b[0].offsetHeight?"none":"block",m.css({height:o+"px",display:a}),l.css({display:a})}function f(){h.scrollbarAlways||j||(l.css("opacity",0),m.css("opacity",0),k=!1)}function g(){e(),k=!0,l.css("opacity",1),m.css("opacity",1)}var h={scrollbarWidth:6,scrollbarAlways:!1,dragSpeedModifier:5,minThumbHeight:25},i=null,j=!1,k=!1,l=angular.element(document.createElement("div")),m=angular.element(document.createElement("div")),n=angular.element(document),o=e();b.wrap('<div class="ringscroll" style="position:relative;width:auto;overflow:hidden;height:100%;"></div>'),b.css({overflow:"hidden"}),i=b.parent(),i.append(l[0]),i.append(m[0]),l.addClass("scrollbar"),m.addClass("thumb"),l.css({position:"absolute",width:h.scrollbarWidth+"px",height:"100%",right:"1px",top:"0px",zIndex:1}),m.css({position:"absolute",width:h.scrollbarWidth+"px",right:"1px",top:"0px",zIndex:10});var p="undefined"!=typeof InstallTrigger?"DOMMouseScroll":"mousewheel";b.on(p,function(a){a.preventDefault(),k||g();var b=parseFloat(m.css("top")),c=a.wheelDelta?-1/40*a.wheelDelta:3*a.detail,e=b+c*h.dragSpeedModifier;d(e)}),m.on("mousedown",function(a){a.preventDefault(),a.stopPropagation(),k||g(),j=!0;var b=a.pageY,c=parseFloat(m.css("top"));n.on("mousemove",function(a){var e=c+a.pageY-b;d(e)}),n.on("mouseup",function(a){a.stopPropagation(),j=!1,n.off("mousemove"),n.off("mouseup")})}),i.on("mouseenter",g),i.on("mouseleave",f),a.$on("scrollTop",function(a){setTimeout(function(){d(0)},10)})}return{restrict:"A",scope:{bottomReached:"&"},link:a}}function b(){return{scrollTop:function(a){a.$broadcast("scrollTop")}}}angular.module("ringid.common.rgscrollbar_directive",[]).directive("rgScrollbar",a).service("rgScrollbarService",b)}(),function(){"use strict";function a(a){var b=this,c=null;b.open=function(d){c||a.bind("click",b.closeDropdown),c&&c.instanceId!==d.instanceId&&(c.$parent.showDropdown=!1),c=d},b.close=function(d){c&&c.instanceId===d.instanceId&&(c=null,a.unbind("click",b.closeDropdown))},b.closeDropdown=function(a){3!=a.which&&c.$apply(function(){c.$parent.showDropdown=!1})}}function b(a,b,c,d,e,f,g){function h(a){var b=a.$new();b.instanceId=Math.floor(99999*Math.random())+1,b.$watch("showDropdown",function(c,d){c?e.open(b):(a.ddBeforeClose(),e.close(b))}),b.$on("$destroy",function(){b.$destroy()})}function i(d,e,f){var h,i=!1;d.showDropdown=!1;var j=function(a){d.showDropdown||c(function(){d.showDropdown=!d.showDropdown,d.showDropdown&&d.ddOpened()})},k=function(){c(function(){i||(d.showDropdown=!1)},500)};e.on("click",j),a.get(d.ddHtml,{cache:g}).then(function(a){h=b(a.data)(d),e.after(h),h.on("click",function(a){a.stopPropagation()}),d.ddControl&&d.ddControl.showOnHover&&(e.on("mouseleave",k),angular.element(h[0]).on("mouseenter",function(){i=!0,e.off("mouseleave",k)}),angular.element(h[0]).on("mouseleave",function(){i&&k(),i=!1,e.on("mouseleave",k)}))})}return h.$inject=["$scope"],{restrict:"A",controller:h,link:i,scope:{ddHtml:"=",ddControl:"=",ddAction:"&",ddOpened:"&",ddBeforeClose:"&"}}}angular.module("ringid.common.rgdropdown_directive",["ringid.config","ringid.common.rgscrollbar_directive"]).service("rgDropdownService",a).directive("rgDropdown",b),a.$inject=["$document"],b.$inject=["$http","$compile","$timeout","$parse","rgDropdownService","rgScrollbarService","$templateCache"]}(),function(){"use strict";angular.module("ringid.common.rgaccordion_directive",[]).directive("rgAccordion",function(){return{link:function(a,b,c){var d=b[0],e=c.titleClass||"",f=c.descClass||"",g=angular.element(d.querySelectorAll("."+e)),h=angular.element(d.querySelectorAll("."+f));g.on("click",function(a){a.preventDefault(),a.stopPropagation(),g.removeClass("active"),h.removeClass("active"),this.className=this.className+" active",this.nextElementSibling.className=this.nextElementSibling.className+" active"})}}})}(),function(){"use strict";function a(){return function(a,b,c){angular.isFunction(c.rgConditionalClick)&&(b.bind("click",function(a){c.rgConditionalClick()}),a.$on("$destroy",function(){b.unbind("click")}))}}function b(a){return{restrict:"A",link:function(b,c,d){var e=a(d.rgClick),f=d.rgClickNoapply;c.bind("click",function(a){a.preventDefault(),f?(e(b,{$event:a}),b.$digest()):b.$apply(function(){e(b,{$event:a})})})}}}function c(){return{restrict:"A",transclude:!0,link:function(a,b,c){b.on("load",function(){})}}}angular.module("ringid.common.rgclick_directive",[]).directive("rgImgLoad",c).directive("rgClick",b).directive("rgConditionalClick",a),a.$inject=[],b.$inject=["$parse"]}(),function(){"use strict";angular.module("ringid.sticker",["ringid.config"]).value("STICKER_IMAGE_TYPE",{EMOTICON:1,LARGE_EMOTICON:2,STICKER:3}).value("STICKER_COLLECTION_CATEGORY_PRE_FETCH_COUNT",5)}(),function(){"use strict";function a(a,b,c,d){var e=d.STICKER,f=d.SYSTEM.REQUEST_TYPE,g=this,h=c.stickerBase.slice(0,-1);g.go=function(b,c,d){return c=c||"get",d=d||[],a[c](b,d)},g.getAll=function(a){var b=h+"?all=1";return g.go(b)},g.getStickerCategoriesByCollectionId=function(a){var b=h+"?collectionId="+a;return g.go(b)},g.getStickersByCatId=function(a){var b=h+"?categoryId="+a;return g.go(b)},g.getMyStickers=function(){var a={actn:e.GET_MY_STICKER};return b.request(a,f.REQUEST)},g.addSticker=function(a){var c={actn:e.ADD_REMOVE_STICKER,catId:a.catId,jt:e.ADD_JT_VALUE};return b.request(c,f.UPDATE)},g.removeSticker=function(a){var c={actn:e.ADD_REMOVE_STICKER,catId:a.catId,jt:e.REMOVE_JT_VALUE};return b.request(c,f.UPDATE)}}angular.module("ringid.sticker").service("stickerHttpService",a),a.$inject=["$http","$$connector","settings","OPERATION_TYPES"]}(),function(){"use strict";function a(a,b){return{create:function(c,d,e){var f={id:c.id||0,name:c.name||"",symbol:c.symbol||c.name,type:c.type||0,src:1===d?a.emoticonBase+c.name:e+c.name,isEmoticon:d===b.EMOTICON,isLargeEmoticon:d===b.LARGE_EMOTICON,isSticker:d===b.STICKER};return{getKey:function(){return f.id},src:function(){return f.src},symbol:function(){return f.symbol},getName:function(){return f.name},isEmoticon:function(){return f.isEmoticon},isLargeEmoticon:function(){return f.isLargeEmoticon},isSticker:function(){return f.isSticker}}}}}function b(a,b,c){return{create:function(d,e){var f,g=c.stickerImageBase+d.collectionId+"/"+d.categoryId+"/",h={categoryId:d.categoryId||0,collectionId:d.collectionId||0,imageListMap:a.createNew(),type:d.type||0,isEmoticon:1===d.type?!0:!1,isLargeEmoticon:2===d.type?!0:!1,isSticker:3===d.type?!0:!1,regularUrl:1===d.type?"/images/emoticon/c.png":+g+"c.png",hoverUrl:1===d.type?"/images/emoticon/ca.png":g+"ca.png",installed:e||!1};for(var i in d.imageList)f=b.create(d.imageList[i],h.type,g),h.imageListMap.add(f.getKey(),f);return{sortBy:function(){return h.categoryId},isInstalled:function(){return h.installed},setInstalled:function(a){h.installed=a},isEmoticon:function(){return h.isEmoticon},isLargeEmoticon:function(){return h.isLargeEmoticon},isSticker:function(){return h.isSticker},getKey:function(){return h.categoryId},getImages:function(){return h.imageListMap},getType:function(){return h.type},link:function(){return h.regularUrl},hoverLink:function(){return h.hoverUrl}}}}}function c(a,b,c,d,e,f,g,h,i,j,k){function l(a){try{var b=a.getKey();c.getStickerCategoriesByCollectionId(b).then(function(b){var c=b.data;if(c&&c.sucs===!0&&c.categoriesList){var d=c.categoriesList;angular.isArray(d)&&angular.forEach(d,function(b){var c=b[f.getKeyString()],d=w[c];d||(d=f.create(b),w[d.getKey()]=d),a.addCategories(d.getKey())})}},function(a){})}catch(d){}}function m(a){try{angular.forEach(a.freeCategoriesList,function(a){var b=f.create(a);w[b.getKey()]=b,y.free.push(b.getKey())})}catch(b){}try{angular.forEach(a.topCategoriesList,function(a){var b=f.create(a);w[b.getKey()]=b,y.top.push(b.getKey())})}catch(b){}try{angular.forEach(a.stNewCategoriesList,function(a){var b=f.create(a);w[b.getKey()]=b,y["new"].push(b.getKey())})}catch(b){}try{angular.forEach(a.stickerCollectionsList,function(a){var b=g.create(a);z[b.getKey()]=b,l(b)})}catch(b){}}function n(){c.getAll().then(function(a){try{var b=a.data;b.sucs===!0&&(p(b),m(b),r())}catch(c){}},function(a){})}function o(){try{return k.getData(u)}catch(a){return!1}}function p(a){k.setData(u,a)}function q(){k.setData(v,A)}function r(){A=k.getData(v),D&&A||(A={},c.getMyStickers().then(function(a){a.sucs===!0&&(angular.forEach(a.catIds,function(a){A[a]=1,x[a]&&x[a].setInstalled(!0)}),q())}))}function s(a){try{m(a)}catch(b){}}function t(a){try{return w[a]}catch(b){return{}}}var u="stickerData",v="myStickers",w={},x={},y={free:[],"new":[],top:[]},z={},A={},B=d.getAllEmoticons(),C=b.create(B,!0),D=!1,E=function(a){var b=j.defer();return x[a]||c.getStickersByCatId(a).then(function(a){var c=a.data;c.sucs===!0&&(e.parseCategoryStickerData(c,x,w),b.resolve(a))},function(a){b.reject(a)}),b.promise};return{initStickerData:function(a){if(a===!0)n();else{var b=o();angular.isObject(b)?(s(b),r()):n()}},getNoOfMyStickers:function(){return A?Object.keys(A).length:0},getStickerCategories:function(){return y},getStickerCollections:function(){return z},getMyStickerCatIds:function(){return A?Object.keys(A):[]},getStickerMapByCatId:function(a){var b=j.defer();return x[a]?b.resolve(x[a]):E(a).then(function(){b.resolve(x[a])},function(a){b.reject(a)}),b.promise},isDownloaded:function(a){return!!A[a]},getStickerCategoryObject:function(a){return t(a)},getEmoticonMap:function(){return C},getMyStickers:function(){return c.getMyStickers()},addMySticker:function(a){try{A[a]=1,q(),x[a]&&x[a].setInstalled(!0)}catch(b){}c.addSticker({catId:a}).then(function(b){b.sucs!==!0&&(A[a]=0,x[a].setInstalled(!1))},function(a){})},removeMySticker:function(a){try{delete A[a],q(),x[a]&&x[a].setInstalled(!1)}catch(b){}c.removeSticker({catId:a}).then(function(b){b.sucs!==!0&&(A[a]=1,x[a].setInstalled(!0))},function(a){})}}}angular.module("ringid.sticker").factory("StickerFactory",c).factory("$$stickerMap",b).factory("$$stickerImageMap",a),a.$inject=["settings","STICKER_IMAGE_TYPE"],b.$inject=["$$stackedMap","$$stickerImageMap","settings"],c.$inject=["$$stackedMap","$$stickerMap","stickerHttpService","StickerEmoticonFactory","StickerHelper","StickerCategoryModel","StickerCollectionModel","$localStorage","STICKER_IMAGE_TYPE","$q","Storage"]}(),function(){"use strict";angular.module("ringid.utils",["ringid.config","ringid.common.stacked_map","ringid.sticker"])}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){k.viewport||(k.viewport=p());var a=k.viewport.x;return 1245>=a?1:a>=1245&&1800>=a?2:a>1800?3:void 0}function i(){var a=h();return(k.viewport.x-(c.LEFT_BAR_WIDTH+c.RIGHT_BAR_WIDTH+a*c.CELL_MARGIN))/a}function j(a,b){if(!g[a])return"";var c=g[a];switch(a){case"HOME":case"FAQ":break;case"SINGLE_FEED":b.feedId&&(c=c.replace(":feedId",b.feedId));var d=b.shared?"shared":"";c=c.replace(":shared?",d);break;case"WHO_SHARED_FEED":b.feedId&&(c=c.replace(":feedId",b.feedId));break;case"SINGLE_IMAGE":b.imageId&&(c=c.replace(":imageId",b.imageId));break;case"USER_PROFILE":b.uId&&(c=c.replace(":uId",b.uId)),c=b.utId?c.replace(":utId",b.utId):c.replace("/:utId","");break;case"CIRCLE_HOME":b.circleId&&(c=c.replace(":circleId",b.circleId))}return c=b.subpage?c.replace(":subpage?",b.subpage):c.replace("/:subpage?",""),"#"+c}var k={},l=/[(http(s)?):\/\/(www\.)?a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi,m=/^http:\/\/image\.ringid\.com\/?.*$/,n=f.getEmoticonPattern(),o=f.getEmoticonUrlMap(),p=function(){var c=a,d=b,e=d[0].documentElement,f=d[0].getElementsByTagName("body")[0],g=c.innerWidth||e.clientWidth||f.clientWidth,h=c.innerHeight||e.clientHeight||f.clientHeight;return{x:g,y:h}},q=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},r=function(a){a=q(a);var b,c=0;return"blob:http"==a.substring(0,9)&&(b='<img title="'+a+'" width="100%" src="'+a+'" />',c=2),2!=c&&(b=a.replace(m,function(a){return c=1,'<img title="'+a+'" width="100%" src="'+a+'" />'})),0==c&&(b=b.replace(l,function(a){return'<a class="feedanchor" target="_blank" href="'+a+'"> '+a.substr(0,30)+"</a>"})),b=b.replace(n,function(a){var b=new Image;return b.src=o[a],'<img title="'+a+'" src="'+o[a]+'" />'})},s=function(b){return b||(b=""),b+a.Math.floor(a.Math.random()*(new a.Date).getTime())},t=function(){var a,b=e.top;return b?(a=parseInt(b)+1,a>65534&&(a=1)):a=1,e.top=a,a};return k={getRingRoute:j,tabId:t(),getTabId:t,viewport:p(),viewportsize:p,feedCellWidth:i(),setFeedCellWidth:function(){k.feedCellWidth=i()},hasSocket:function(){return!0},parseForLE:function(a){return r(a)},init:function(){},feedColumn:function(){return h()},getUniqueID:function(a){return s(a)},getToken:"234",verbalDate:function(b,c){var e,f,g,h=a.Math;if(c=c||(new Date).getTime(),isNaN(b)&&(e=new Date((b||"").replace(/-/g,"/").replace(/[TZ]/g," ")),b=e.getTime()),f=(c-b)/1e3,g=h.floor(f/86400),isNaN(g)||0>g)return"";switch(!0){case 0===g:switch(!0){case 60>f:return"just now";case 120>f:return"1 minute Ago";case 3600>f:return h.floor(f/60)+" minutes ago";case 7200>f:return"1 hour ago";case 86400>f:return h.floor(f/3600)+" hours ago";default:return d("date")(b,"MMM d, h:mm a")}break;case 1===g:return"yesterday at "+d("date")(b,"h:mm a");case 7>g:return d("date")(b,"EEEE 'at' h:mm a");case 365>g:return d("date")(b,"MMMM d 'at' h:mm a");default:return d("date")(b,"MMM d, YYYY")}}}}var b;b=angular.module("ringid.utils"),b.factory("utilsFactory",a),a.$inject=["$window","$document","settings","$filter","$cookies","StickerEmoticonFactory","RING_ROUTES"]}(),function(){"use strict";function a(){return{restrict:"A",link:function(a,b,c){var d,e,f=b[0],g=35,h=0,i=c.autoGrowPost,j=(c.feedEditGrow,function(){d=parseInt(window.getComputedStyle(f).height),e=d-f.clientHeight,f.style.height=0,f.style.height=Math.max(g,f.scrollHeight+e)+"px"}),k=function(){document.querySelector("div.cell:first-child+div.cell").style.marginTop=h+b[0].clientHeight+110+"px"};f.addEventListener("input",function(){j(),"true"===i&&k()});a.$on("imageAdded",function(a,c){b[0].attributes["auto-grow-post"]&&(0>c&&h>0?(h=0,k()):c>0&&0===h&&(h=c-40,k()))});a.$on("postsubmitted",function(a,c){b.css("height","20px"),h=0,k()}),a.$on("$destroy",function(){b.off("imageAdded")})}}}var b;b=angular.module("ringid.utils"),b.directive("loadMore",["$window","$document","utilsFactory",function(a,b,c){return{restrict:"A",link:function(b,d,e){var f=angular.element(a),g=c.viewport,h=function(){var a=d[0].clientHeight-(g.y+f[0].scrollY),c=Math.max(d[0].clientHeight/1e4,1);400*c>a&&b.$apply(e.loadMore)};f.bind("scroll",h);var i=function(){f.off("scroll",h)};b.$on("$destroy",i)}}}]),b.directive("autoGrow",a),b.directive("removeMe",function(){return{link:function(a,b,c){b.bind("click",function(){b.remove()})}}})}(),function(){"use strict";angular.module("ringid.common.stacked_map",[]).factory("$$stackedMap",function(){return{createNew:function(a,b){function c(a){a=a||"sortBy";var c=-1,d=1;"desc"===b&&(c=1,d=-1),g.sort(function(b,e){return e.value[a]()>b.value[a]()?c:b.value[a]()>e.value[a]()?d:0})}function d(a){for(var b=0;b<g.length;b++)if(a==g[b].key)return b;return-1}function e(a){var b=d(a);return-1===b||b===g.length-1?!1:g[b+1].value}function f(a){var b=d(a);return-1===b||0===b?!1:g[b-1].value}var g=[],h=this;return a=a||!1,b=b||"desc",{concat:function(a){g=g.concat(a)},reset:function(){g.length=0},all:function(){return g},setStack:function(a){g=a},add:function(b,d){return g.push({key:b,value:d}),a!==!1&&c(),!1},next:function(a){return e(a)},previous:function(a){return f(a)},getIndex:function(a){return d(a)},get:function(a){var b=d(a);return b>=0?g[b].value:!1},save:function(b,e){var f;f=d(b),-1===f?this.add(b,e):g[f]={key:b,value:e},a!==!1&&c()},sort:function(a,d){a&&(b=a),c(d)},keys:function(){for(var a=[],b=0;b<g.length;b++)a.push(g[b].key);return a},top:function(a){return g.length?(a=!!a,a?g[g.length-1]:g[g.length-1].value):!1},bottom:function(a){return g.length?(a=!!a,a?g[0]:g[0].value):!1},sliceBy:function(a,b){return b||(b=0),(a>g.length||!a)&&(a=g.length),g.slice(b,a)},remove:function(a){var b=d(a);return b>-1?g.splice(b,1)[0]:[]},removeTop:function(){return g.splice(g.length-1,1)[0]},length:function(){return g.length},nonClosedLength:function(){var a=0;return angular.forEach(g,function(b,c){a+=b.closedBox?1:0}),a},copy:function(){for(var c=h.createNew(a,b),d=0;d<g.length;d++)c.add(g[d].key,g[d].value);return c},doForAll:function(a){for(var b=0;b<g.length;b++)a.call(null,g[b].value)}}}}})}(),function(){"use strict";function a(a,b,c){var d=c.createNew(),e=function(){d.doForAll(function(a){a.call(null)})};return a.onfocus=e,{add:function(a){var c=b.getUniqueID();return d.add(c,a),c},remove:function(a){return d.remove(a)},fire:function(){e()}}}function b(a,b,c){var d=c.createNew(),e=function(){d.doForAll(function(a){a.call(null)})};return a.onblur=e,{add:function(a){var c=b.getUniqueID();return d.add(c,a),c},remove:function(a){return d.remove(a)},fire:function(){e()}}}var c;c=angular.module("ringid.utils"),c.factory("windowFocusHandler",a),a.$inject=["$window","utilsFactory","$$stackedMap"],c.factory("windowBlurHandler",b),
b.$inject=["$window","utilsFactory","$$stackedMap"]}(),angular.module("ringid.ringbox",["ringid.common.stacked_map","ringid.utils"]).directive("ringboxOverlay",["$timeout",function(a){return{restrict:"EA",replace:!0,templateUrl:"pages/ringbox/ringoverlay.html",link:function(a,b,c){}}}]).directive("ringboxContainer",["$boxStack","$timeout","utilsFactory",function(a,b,c){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"pages/ringbox/ringbox.html"},link:function(c,d,e){d.addClass(e.windowClass||""),c.size=e.size,d.on("click",function(a){a.stopPropagation(),c.close(a)}),b(function(){d[0].querySelectorAll("[autofocus]").length||d[0].focus()}),c.boxIsLoading=function(){var b=a.getTop();return b?b.value.boxScope.boxIsLoading:!1},c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target.className.indexOf("ringbox-outerContainer")>=0&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).directive("boxTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.html();b.empty(),b.append(a)})}}}).factory("$boxStack",["$timeout","$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d,e){function f(){for(var a=-1,b=m.keys(),c=0;c<b.length;c++)m.get(b[c]).backdrop&&(a=c);return a}function g(a){var c=b.find("body").eq(0),d=m.get(a);m.remove(a),i(d.boxDomEl,function(){d.boxScope.$destroy(),c.toggleClass(l,m.length()>0),h()})}function h(){if(j&&-1==f()){var a=k;i(j,function(){a.$destroy(),a=null}),j=void 0,k=void 0}}function i(b,c){var d=function(){b.remove(),c&&c()};a(d)}var j,k,l="ringbox-opened",m=e.createNew(),n={};return d.$watch(f,function(a){k&&(k.index=a)}),b.bind("keydown",function(a){var b;27===a.which&&(b=m.top(!0),b&&b.value.keyboard&&(a.preventDefault(),d.$apply(function(){n.dismiss(b.key,"escape key press")})))}),n.open=function(a,e){m.add(a,{deferred:e.deferred,boxScope:e.scope,backdrop:e.backdrop,index:m.length(),keyboard:e.keyboard});var g=b.find("body").eq(0),h=f();if(h>=0&&!j){k=d.$new(!0),k.index=h;var i=angular.element("<div ringbox-overlay></div>");i.attr("backdrop-class",e.backdropClass),j=c(i)(k),g.append(j)}var n=angular.element("<div ringbox-container></div>");n.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:m.length()-1,animate:"animate"}).html(e.content);var o=c(n)(e.scope);m.top().boxDomEl=o,g.append(o),g.addClass(l)},n.close=function(a,b){var c=m.get(a);c&&(c.deferred.resolve(b),g(a))},n.dismiss=function(a,b){var c=m.get(a);c&&(c.deferred.reject(b),g(a))},n.setContent=function(a,d){var e,f=b.find("body").eq(0);e=a?m.get(a):this.getTop().value,e.boxDomEl.remove();var g=angular.element("<div ringbox-container></div>");g.attr({index:e.index,animate:"animate"}).html(d);var h=c(g)(e.boxScope);e.boxDomEl=h,f.append(h)},n.dismissAll=function(a){for(var b=this.getTop();b;)this.dismiss(b.key,a),b=this.getTop()},n.getTop=function(){return m.top(!0)},n}]).provider("$ringbox",function(){var a={options:{backdrop:!0,keyboard:!0,navigation:!1,boxIsLoading:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$boxStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){angular.isDefined(a.promise)?c.push(a.promise):(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer();b=angular.extend({},a.options,b),b.resolve=b.resolve||{};var k=(b.scope||c).$new();if(angular.forEach(a.options,function(a,c){k[c]=b[c]}),!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve))),m={result:e.promise,opened:f.promise,close:function(a){h.close(m,a)},loading:function(a){k.boxIsLoading=!!a},dismiss:function(a){h.dismiss(m,a)},setContent:function(a){var b=d.when(i(a));b.then(function(a){h.setContent(m,a)})},resize:function(){}};return h.open(m,{scope:k,deferred:e,content:"",backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size}),l.then(function(a){k.boxIsLoading=!1,k.$close=m.close,k.$dismiss=m.dismiss;var c,d={},e=1;b.controller&&(d.$scope=k,d.$boxInstance=m,angular.forEach(b.resolve,function(b,c){d[c]=a[e++]}),c=g(b.controller,d),b.controllerAs&&(k[b.controllerAs]=c)),h.setContent(m,a[0])},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),m},k}]};return a}).directive("rgRingbox",["$ringbox","Ringalert",function(a,b){return{restrict:"EA",scope:{ringboxData:"&",onRingBoxOpen:"&",onRingBoxClose:"&",ringboxFalsyFunc:"&"},link:function(b,c,d){function e(e){e.preventDefault(),e.stopPropagation();var f,g,h={};f=d.ringboxType,f||(f="html"),d.ringboxData&&angular.isFunction(b.ringboxData)&&(h=b.ringboxData());var i=h.data?h.data:h,j={type:f,scope:d.ringboxScope?b:!1,controller:d.ringboxController||"",resolve:{localData:i,remoteData:h.promise?h:angular.noop},onBackDropClickClose:d.ringBackdropClose||!0};if("remote"===f)j.templateUrl=d.ringboxTarget||b.ringboxTarget||d.href||d.src;else if("video"===f);else if(f="html",g=d.ringboxTarget||b.ringboxTarget){if(j.template=angular.element(document.querySelector(g)),!(j.template.length>0))throw new Error("Opps ! Your Provideed Target element Does Not Exist!");j.template=j.template[0].outerHTML}else j.template=c.html();var k=a.open(j);k.result.then(function(a){angular.isDefined(b.onRingBoxClose)&&angular.isFunction(b.onRingBoxClose)&&b.onRingBoxClose()},function(){}),k.opened.then(function(){angular.isDefined(b.onRingBoxOpen)&&angular.isFunction(b.onRingBoxOpen)&&b.onRingBoxOpen()})}function f(a){c.on("click",a),b.$on("$destroy",function(){c.off("click",a)})}function g(a){event.preventDefault(),event.stopPropagation(),angular.isFunction(b.ringboxFalsyFunc)&&b.ringboxFalsyFunc()}f(""===d.rgRingbox||"true"===d.rgRingbox||d.rgRingbox===!0?e:g)}}}]),function(){"use strict";function a(a,b){var c=a.createNew(),d=function(){var a;c.doForAll(function(b){a=b.call(null),a&&!a.$$phase&&a.$digest()})};return{add:function(a){var d=b.getUniqueID();return c.add(d,a),d},remove:function(a){return c.remove(a)},synch:function(){c.length()>0&&d()}}}angular.module("ringid.syncher",["ringid.common.stacked_map","ringid.utils"]).factory("$$rgsyncher",a),a.$inject=["$$stackedMap","utilsFactory"]}(),function(a,b){"use strict";angular.module("ringid.connector",["ngWebSocket","ringid.utils","ringid.config","ringid.common.stacked_map","ringid.syncher"])}(DataView,String),function(){"use strict";function a(a,b){function c(b){b&&!a.$$phase&&a.$apply()}var d=this,e={transformRequest:function(a){return a},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},responseType:"arraybuffer"},f={transformRequest:function(a){return a},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},responseType:"arraybuffer"};d.UPDATE_URL="http://localhost:8080/APIData",d.REQUEST_URL="http://localhost:8080/APIRequest",d.onOpenCallbacks=[],d.onMessageCallbacks=[],d.onErrorCallbacks=[],d.onCloseCallbacks=[],d.socket=!1,d.OPEN=!1,d.onMessage=function(a,b){if(!angular.isFunction(a))throw new Error("Callback must be a function");if(b&&angular.isDefined(b.filter)&&!angular.isString(b.filter)&&!(b.filter instanceof RegExp)&&!angular.isFunction(b.filter))throw new Error("Pattern must be a string or regular expression");d.onMessageCallbacks.push({key:b.key||"",fn:a,pattern:b?b.filter:void 0,autoApply:b?b.autoApply:!1,clearAble:b?b.clearAble:!0,dataType:b?b.dataType:0})},d._onMessageHandler=function(a){for(var b,e,f,g=0;g<d.onMessageCallbacks.length;g++)b=d.onMessageCallbacks[g],e=b.pattern,e?angular.isFunction(e)?(f=e.call(null,a),f!==!1&&(b.fn.call(d,f),c(b.autoApply))):angular.isString(e)&&a.data===e?(b.fn.call(d,a),c(b.autoApply)):e instanceof RegExp&&e.exec(a.data)&&(b.fn.call(d,a),c(b.autoApply)):(b.fn.call(d,a),c(b.autoApply))},d._onErrorHandler=function(a){for(var b=0;b<d.onErrorCallbacks.length;b++)d.onErrorCallbacks[b].call(this,a)},d._onOpenHandler=function(){for(var a=0;a<d.onOpenCallbacks.length;a++)this.onOpenCallbacks[a].call(this)},d.onOpen=function(a){return this.onOpenCallbacks.push(a),this};var g=function(a){b.post(d.UPDATE_URL,a,f).success(function(a,b,c,e){d._onMessageHandler({data:a,status:b,headers:c,config:e})}).error(function(a,b,c,e){throw d._onErrorHandler({data:a,status:b,headers:c,config:e}),new Error("error Occured While Pulling")})};d.fetch=g,d.init=function(a){g(a),d.OPEN=!0,d._onOpenHandler()},d.close=function(){d.OPEN=!1},d.send=function(a){return b.post(d.REQUEST_URL,a,e)},d.reconnect=function(){d.close(),d.init()},d.isOpen=function(){return d.OPEN}}angular.module("ringid.connector").service("RingHttpService",a),a.$inject=["$rootScope","$http"]}(),function(a,b){"use strict";function c(a,b){var c,d={},e={},f=function(b,c){var d,e,f,g,h={};for(d=c;d<b.byteLength;){switch(f=b.getUint16(d),d+=2,e=b.getUint8(d++),g=b.getIntByByte(d,e),f){case a.ACTION:h.actn=g;break;case a.SERVER_PACKET_ID:h.pckFs=g;break;case a.CLIENT_PACKET_ID:h.pckId=b.getString(d,e);break;case a.WEB_UNIQUE_KEY:break;case a.WEB_TAB_ID:h.tabId=g;break;case a.AUTHIP:h.authServer=b.getString(d,e);break;case a.AUTHPORT:h.comPort=g;break;case a.AUTH_E_USERNAME:h.authEUsername=b.getString(d,e);break;case a.AUTH_E_PASSWORD:h.authEPassword=b.getString(d,e);break;case a.AUTH_E_SALT:h.authESalt=b.getString(d,e);break;default:return d-=3,h.headerLength=d,h}d+=e}return h},g=function(b,c){var d,e,f,g,h={actn:0,pckFs:0,total:0,current:0,key:0};for(c=c||1,d=c;d<b.byteLength;){switch(f=b.getUint8(d++),e=b.getUint8(d++),g=b.getIntByByte(d,e),f){case a.ACTION:h.actn=g;break;case a.SERVER_PACKET_ID:h.pckFs=g;break;case a.TOTAL_PACKET:h.total=g;break;case a.PACKET_NUMBER:h.current=g;break;case a.UNIQUE_KEY:h.key=g;break;case a.DATA:d--,e=b.getUint16(d),d+=2,h.data=b.copy(d,e);break;case a.WEB_UNIQUE_KEY:break;case a.WEB_TAB_ID:h.tabId=g}d+=e}return h},h=function(a){var c,e,h,i,j;switch(c=a.getUint8(0)){case 0:case 2:if(e=f(a,1),200===e.actn)return!1;if(0==c){i=a.getString(e.headerLength,a.byteLength-e.headerLength);try{i=angular.fromJson(i),i=angular.extend({},e,i)}catch(k){return i=!1,!1}return i}return i=b.parseData(a,e.headerLength),i?angular.extend({},e,i):!1;case 1:case 3:if(h=g(a,1),!h.key)return!1;if(d[h.key]?d[h.key].packetLength++:(d[h.key]=[],d[h.key].packetLength=1),d[h.key][h.current]=h.data,h.total===d[h.key].packetLength){if(j=d[h.key].joinAsDataView(),delete d[h.key],e=f(j,0),1==c){i=j.getString(e.headerLength,j.byteLength-e.headerLength);try{i=angular.fromJson(i),i=angular.extend({},e,i)}catch(k){return i=!1,!1}return i}return i=b.parseData(j,e.headerLength),i?angular.extend({},e,i):!1}return!1}};return c={parse:function(a){return h(a)},addParser:function(a,b){e[a]=b}}}function d(a,b,c){var d=this,e=(a.SYSTEM,[]);e[b.SUCCESS]="sucs",e[b.REASON_CODE]="reasonCode",e[b.MESSAGE]="message",e[b.TOTAL_PACKET]="totalPacket",e[b.PACKET_NUMBER]="packetNo",e[b.TOTAL_RECORDS]="totalRecord",e[b.USER_TABLE_IDS]="utIds",e[b.USER_ID]="utId",e[b.USER_IDENTITY]="uId",e[b.USER_NAME]="fn",e[b.PROFILE_IMAGE]="prIm",e[b.PROFILE_IMAGE_ID]="prImId",e[b.UPDATE_TIME]="ut",e[b.CONTACT_UPDATE_TIME]="cut",e[b.CONTACT_TYPE]="ct",e[b.NEW_CONTACT_TYPE]="nct",e[b.DELETED]="deleted",e[b.BLOCK_VALUE]="bv",e[b.FRIENDSHIP_STATUS]="frnS",e[b.CHANGE_REQUESTER]="changeRequester",e[b.CONTACT]="contacts",e[b.CALL_ACCESS]="cla",e[b.CHAT_ACCESS]="chta",e[b.FEED_ACCESS]="fda",e[b.ANONYMOUS_CALL]="anc",e[b.SESSION_ID]="sessionId",e[b.MUTUAL_FRIEND_COUNT]="mutualFriends",d.parseData=function(a,c){for(var f,g,h={},i=c;i<a.byteLength;){switch(f=a.getUint16(i),i+=2,g=0,f){case b.SUCCESS:g=a.getUint8(i++),h[e[f]]=a.getBool(i);break;case b.REASON_CODE:case b.TOTAL_PACKET:case b.PACKET_NUMBER:case b.TOTAL_RECORDS:case b.USER_ID:case b.PROFILE_IMAGE_ID:case b.UPDATE_TIME:case b.CONTACT_UPDATE_TIME:case b.CONTACT_TYPE:case b.NEW_CONTACT_TYPE:case b.DELETED:case b.BLOCK_VALUE:case b.FRIENDSHIP_STATUS:case b.CHANGE_REQUESTER:case b.MUTUAL_FRIEND_COUNT:case b.CALL_ACCESS:case b.CHAT_ACCESS:case b.FEED_ACCESS:g=a.getUint8(i++),h[e[f]]=a.getIntByByte(i,g);break;case b.MESSAGE:case b.USER_NAME:case b.USER_IDENTITY:case b.PROFILE_IMAGE:case b.SESSION_ID:g=a.getUint8(i++),h[e[f]]=a.getString(i,g);break;case b.USER_TABLE_IDS:g=a.getUint16(i),i+=2,h[e[f]]=[];for(var j,k,l,m,n=i;i+g>n;)j=a.getIntByByte(n,8),n+=8,k=a.getUint8(n++),l=a.getUint8(n++),m=a.getUint8(n++),h[e[f]].push({key:j,value:{ct:k,mb:l,frnS:m}});break;case b.CONTACT:g=a.getUint16(i),i+=2,angular.isArray(h[e[f]])||(h[e[f]]=new Array),h[e[f]].push(d.parseData(a.copy(i,g),0));break;default:g=a.getUint8(i++)}i+=g}return h}}angular.module("ringid.connector").factory("RingParser",c).service("parserService",d),c.$inject=["ATTRIBUTE_CODES","parserService"],d.$inject=["OPERATION_TYPES","ATTRIBUTE_CODES","$$stackedMap"]}(DataView,String),function(a,b){"use strict";function c(b,c,d,e,f,g,h,i,j,k,l,m){function n(){var b=d.getCookie("sId")||"",c=2;if(!b.length)return!1;var e=new ArrayBuffer(b.length+2),f=new a(e);return f.setUint8(0,k.SYSTEM.REQUEST_TYPE.KEEP_ALIVE),f.setUint8(1,0),angular.forEach(b.toCharCodeArray(),function(a){f.setUint8(c++,a)}),f}function o(){q(),u.close(),u=null,y=!0,L(),y=!1,C&&M()}function p(){v&&l.cancel(v),u.isOpen()?u.close():u.onOpen(function(){u.close()})}function q(){l.cancel(v)}function r(b,c,d,e){var f,g,j,k,l,n,o,p=[],q=129,r=0,s=c.byteLength,t=(new Date).getTime(),u=Math.ceil(s/m),v=i.getUniqueID().toString(),w=128>u?1:2;for(g=0;u>g;g++)k=m*(g+1)-1,k>s&&(k=s-1),n=new ArrayBuffer(q+(k-r+1)),l=new a(n),l.setUint8(0,b),l.setUint8(1,1),f=2,d.actn&&(f=l.addAttributeInt(f,h.ACTION,2,d.actn)),e&&(e=e.toString(),f=l.addAttributeString(f,h.CLIENT_PACKET_ID,e)),f=l.addAttributeInt(f,h.TOTAL_PACKET,w,u),f=l.addAttributeInt(f,h.PACKET_NUMBER,w,g),f=l.addAttributeString(f,h.UNIQUE_KEY,v),f=l.addAttributeData(f,h.DATA,c,r,k-r+1),r=k+1,j=l.copy(0,f),p.push(j);var x=function y(){for(;p.length;){var a;if(o=(new Date).getTime(),!(o-t>=180))return void setTimeout(y,180);a=p.shift(),O(a),t=o}};return x(),!1}function s(b,c,d){angular.isString(b)||(b=angular.toJson(b));var e,f,g=0,h=c?b.length:b.length+2;return e=new ArrayBuffer(h),f=new a(e),c||(f.setUint8(g++,d),f.setUint8(g++,0)),b.length&&angular.forEach(b.toCharCodeArray(),function(a){f.setUint8(g++,a)}),f}var t,u,v,w=(d.getCookie("sessionID"),{}),x={},y=!1,z=[],A=(new Date).getTime(),B=!1,C=!1,D=g.createNew(),E=g.createNew(),F=function(a){return function(b){if(!b||!b.actn)return!1;if(!angular.isArray(a))return b.actn==a;for(var c=0;c<a.length;c++)if(b.actn==a[c])return!0;return!1}},G=function(a){return a?c.parse(a):{}},H=function(a){return w[a.pckId]?(w[a.pckId].resolve.call(w[a.pckId],a),delete w[a.pckId],!0):!1},I=function(a){D.length()>0&&D.doForAll(function(b){var c,d=b.filter;d?angular.isFunction(d)&&(c=d.call(null,a),c!==!1&&b.fn.call(b,a)):b.fn.call(self,a),b.autoApply&&!b.scope.$$phase&&b.scope.$digest()})},J=function(a){if(a){var b;if(a.hasOwnProperty("pckId")&&a.actn!==k.SYSTEM.AUTH.TYPE_INVALID_LOGIN_SESSION&&(b=H(a)),a.hasOwnProperty("pckFs")){var c=a.pckFs;x[c]||(I(a),x[c]=!0)}else b||I(a)}},K=function(b,c){var d;try{if(d=new a(b.data||b),!d.byteLength)throw new Error("Byte Length of Zero")}catch(e){return}b=G(d),J(b)},L=function(a){if(angular.isObject(u))return void(u.isOpen()||u.reconnect());if(!i.hasSocket())return void alert("Your browser seem back dated. To use RingId with greater user experience we advice you to use modern browser. ");try{u=f("ws://"+b.siteUrl+"/DataSocket/"+i.tabId)}catch(c){}u.onMessage(K,{})},M=function(){v=l(function(){R();var a=n();return a?void O(a):void q()},5e3)},N=function(a,b,c){var e,f,g=d.getCookie("sId");return b=b||{},b.pckId=a,g&&(b.sId=g),b.tbid=i.tabId,b.dvc=5,e=angular.toJson(b),e.length+2>m&&23!==b.actn?(f=s(e,1,c),r(c,f,b,a)):s(e,0,c)},O=function S(a,b){if(a&&z.push(a),!y||b){if(u.isOpen()||0===u.readyState||u.reconnect(),0===u.readyState)return void(B||(setTimeout(function(){B=!1,S()},1e3),B=!0));for(;z.length;){var c=(new Date).getTime(),d=z.shift();d.print_r(),u.send(d),A=c}}},P=function(a,b,c){var d,e;return e=i.getUniqueID(),d=N(e,a,b),c&&(w[e]=c),d?O(d,b===k.SYSTEM.REQUEST_TYPE.AUTHENTICATION):void 0},Q=function(a,b){var c,d=j.defer();return c=P(a,b,d),d.promise},R=function(){E.doForAll(function(a){a.call(null)})};return t={init:L,close:p,send:function(a,b){P(a,b)},request:function(a,b){return Q(a,b)},subscribe:function(a,b){return b=b||{},b.key=b.key||i.getUniqueID(),b.scope=b.scope||e,b.autoApply=!1,b.fn=a||angular.noop,!b.filter&&b.action&&(b.filter=F(b.action)),D.add(b.key,b),b.key},unsubscribe:function(a){D.remove(a)},stop:function(){y=!0},resume:function(){y=!1,u.isOpen()||0===u.readyState||u.reconnect(),O()},reset:function(){o(),O()},addInterval:function(a){var b=i.getUniqueID();E.add(b,a)},removeInterval:function(a){E.remove(a)},keepAlive:function(){C=!0,M()}},e.$on("ringInactive",function(a){}),e.$on("$locationChangeStart",function(a){}),t}angular.module("ringid.connector").factory("$$connector",c),c.$inject=["settings","RingParser","Storage","$rootScope","$websocket","$$stackedMap","ATTRIBUTE_CODES","utilsFactory","$q","OPERATION_TYPES","$interval","CLIENT_DATA_SIZE"]}(DataView,String),function(){"use strict";function a(a,b){return{getList:function(){return a.get(b.baseUrl+"/resources/countries.json")}}}angular.module("ringid.common.services",["ringid.config","ngWebSocket","ngCookies"]).factory("countryListService",a).config(["$httpProvider",function(a){}]),a.$inject=["$http","settings"]}(),function(){"use strict";function a(a){var b;if(window.XMLHttpRequest)b=new XMLHttpRequest;else try{return new ActiveXObject("MSXML2.XMLHTTP.6.0")}catch(c){try{b=new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(c){b=null}}var d={send:function(c,d){if(b){var e=a.defer();b.onreadystatechange=function(){4===b.readyState&&e.resolve(b.response)},b.open("GET",c,!0),b.responseType="arraybuffer",b.send("")}return e.promise}};return d}angular.module("ringid.common.services").factory("$ringhttp",a),a.$inject=["$q"]}(),function(){"use strict";angular.module("ringid.auth",["ngStorage","ngWebSocket","ringid.config","ringid.connector","ringid.common.services"])}(),function(){"use strict";function a(a,b,c,d,e,f){var g=this,h=f.SYSTEM.REQUEST_TYPE,i=f.SYSTEM,j=f.SYSTEM.AUTH;g.go=function(b,c,d){return a.request(b,c,d)},g.login=function(a){var b="+878"===a.login_type?1:2,c=d.getUniqueID(),e={usrPw:a.password,actn:i.AUTH.TYPE_SIGN_IN,lt:b,vsn:i.VERSION,wk:c,dvc:5,tbid:d.tabId};return 1===b?e.uId=a.username:(e.mbl=a.username,e.mblDc=a.login_type),a.salt&&a.sId&&(e.salt=a.salt,e.sId=a.sId),g.go(e,h.AUTHENTICATION,{lt:b,uId:a.username,wk:c,tbid:d.tabId})},g.codeEmail=function(b){var c=d.getUniqueID(),e={actn:217,rb:b.rb,el:b.rb,wk:c,lt:b.lt};return a.request(e,3)},g.codePhone=function(b){var c=d.getUniqueID(),e={actn:217,rb:b.rb,mbl:b.mbl,mblDc:b.mblDc,wk:c,lt:b.lt};return a.request(e,h.AUTHENTICATION)},g.submitCode=function(b){var c={actn:218,uId:b.userId,vc:b.code,wk:d.getUniqueID(),lt:1};return a.request(c,h.AUTHENTICATION)},g.resetPassword=function(b){var c={actn:219,nPw:b.newpass,uId:b.userId,wk:d.getUniqueID(),lt:1};return a.request(c,h.AUTHENTICATION)},g.logout=function(){var b={actn:j.TYPE_SIGN_OUT};return a.request(b,h.AUTHENTICATION)},g.isValidSession=function(b){return a.request({actn:j.TYPE_SESSION_VALIDATION,utId:b},h.AUTHENTICATION)},g.signupInit=function(){var a={operation:i.SIGNUP_INIT};return g.go(a)},g.signupSendEmail=function(a){var b={operation:i.SIGNUP_SEND_EMAIL,user_email:a.email};return a=angular.extend({},b,a||{}),g.go(a)},g.signupVerifyEmail=function(a){var b={operation:i.SIGNUP_VERIFY_EMAIL,code:a.code};return a=angular.extend({},b,a||{}),g.go(a)},g.signup=function(a){var b={operation:i.SIGNUP,user_full_name:a.name,user_password:a.password};return a=angular.extend({},b,a||{}),g.go(a)}}function b(a){return{login:function(b){return a.login(b)},logout:function(){return a.logout()},isValidSession:function(b){return a.isValidSession(b)}}}function c(a){return{initiateSignup:function(){return a.signupInit()},sendEmail:function(b){return a.signupSendEmail({user_email:b})},verifyEmail:function(b){return a.signupVerifyEmail({code:b})},signUp:function(b){return a.signup(b)}}}angular.module("ringid.auth").service("authHttpService",a).factory("userLoginFactory",b).factory("userSignupFactory",c),a.$inject=["$$connector","$ringhttp","settings","utilsFactory","$http","OPERATION_TYPES"],b.$inject=["authHttpService"],c.$inject=["authHttpService"]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(a){t.credentials.login_type=a.code,t.countryFlag=a.flagcode}function q(a){t.loginError=!0,t.disableForm=!1,t.loginProgress=!1,a.msg?t.loginErrorMsg=a.msg:t.loginErrorMsg="Incorrect Phone Number Or Password"}function r(d,e){b.setData("country",{login_type:t.credentials.login_type,countryFlag:t.countryFlag},!0),e.preventDefault(),d&&(t.loginError=!1,t.disableForm=!0,t.loginProgress=!0,t.credentials.remember||b.deleteData("remInfo"),c.login(t.credentials).then(function(b){b.sucs===!1?q(b):a.close()},function(a){q(a)}))}function s(){i.initiateSignup().success(function(a){var b=angular.fromJson(a);b.sucs===!0&&(t.signIn=!1,t.signUp=!0)}).error(function(a){})}n.init(),n.resume();var t=k,u=b.getData("country");t.signIn=!0,t.signUp=!1,t.forgotPassForm=!1,t.forgotPhnForm=!1,t.submitCodeForm=!1,t.resetPassForm=!1,t.credentials={username:"",password:"",remember:!1,login_type:u?u.login_type:"+878"},t.countryFlag=u?u.countryFlag:"r878",t.loginError=!1,t.loginErrorMsg="",t.disableForm=!1,t.loginProgress=!1,t.login=r,t.showSignup=s,t.setPrefix=p,t.checkWhichForm=!1,t.ddHtml="pages/dropdowns/country-list-dropdown.html",t.ddControl={listData:[]},t.openForgotForm=function(){t.forgotPassForm=!0,t.checkWhichForm=!0,t.forgotPhnForm=!0,t.signIn=!1},t.cancelForgot=function(){t.forgotPassForm=!1,t.checkWhichForm=!1,t.forgotPhnForm=!1,t.submitCodeForm=!1,t.resetPassForm=!1,t.signIn=!0},t.codeEmail=function(a){a.lt=3,o.codeEmail(a).then(function(a){a.sucs===!0?(t.submitCodeForm=!0,t.forgotPassForm=!1,t.forgotPhnForm=!1,t.checkWhichForm=!1):(t.submitCodeForm=!1,t.forgotPassForm=!0)},function(a){})},t.submitCode=function(a){n.reset(),t.submitCodeForm=!1,t.resetPassForm=!0,o.submitCode(a).then(function(a){a.sucs===!0&&(t.submitCodeForm=!1,t.resetPassForm=!0)})},t.submitNumber=function(a){n.reset();var b={rb:a.login_type+"-"+a.number,mbl:a.number,mblDc:a.login_type,lt:2};o.codePhone(b).then(function(a){a.sucs===!0?(t.submitCodeForm=!0,t.forgotPassForm=!1,t.forgotPhnForm=!1,t.checkWhichForm=!1):(t.submitCodeForm=!1,t.forgotPhnForm=!0)},function(a){})},t.resetPassword=function(a){n.reset(),o.resetPassword(a).then(function(a){a.sucs===!0&&(t.forgotPassForm=!1,t.checkWhichForm=!1,t.forgotPhnForm=!1,t.submitCodeForm=!1,t.resetPassForm=!1,t.signIn=!0)})},j.getList().success(function(a){t.ddControl.countryList=a})}angular.module("ringid.auth").controller("LoginController",a),a.$inject=["$boxInstance","Storage","Auth","$location","$cookies","$localStorage","settings","userLoginFactory","userSignupFactory","countryListService","$scope","$timeout","$window","$$connector","authHttpService"]}(),function(){"use strict";function a(a,b,c){function d(){return e.credentials.name.length>1&&e.credentials.password.length>1&&e.credentials.password===e.repassword?!0:!1}var e=this;e.email="",e.verificationCode="",e.repassword="",e.credentials={name:"",password:""},e.newUid="",e.signupStep1=!0,e.signupStep2=!1,e.signupStep3=!1,e.reset=function(a){a.preventDefault(),e.credentials.name="",e.credentials.password="",e.repassword=""},e.sendEmail=function(a){a.preventDefault(),e.email&&e.email.length>1&&b.sendEmail(e.email).success(function(a){var b=angular.fromJson(a);c.log(a),b.sucs===!0&&(e.signupStep1=!1,e.signupStep2=!0)}).error(function(a){c.error(angular.fromJson(a))})},e.verifyEmail=function(a){a.preventDefault(),e.verificationCode.length>1&&b.verifyEmail(e.verificationCode).success(function(a){var b=angular.fromJson(a);b.sucs===!0&&(e.newUid=b.uId,e.signupStep2=!1,e.signupStep3=!0)}).error(function(a){c.error(angular.fromJson(a))})},e.signUpUser=function(f){f.preventDefault(),d()&&b.signUp(e.credentials).success(function(b){var c=angular.fromJson(b);c.sucs===!0&&(a.login.signIn=!0,a.login.signUp=!1)}).error(function(a){c.error(angular.fromJson(a))})}}angular.module("ringid.auth").controller("RegisterController",a),a.$inject=["$scope","userSignupFactory","$log"]}(),function(){"use strict";function a(a,b){a.accept=!1,"1"===b.accept?a.accept=!1:a.accept=!0,a.callAccept=function(){b.accept=1,a.accept=!1},a.signIn=!0,a.signUp=!1,a.reloadHome=function(){location.href="/"},a.scroll=0,a.ringlogocircle="images/slider/ring_logo_circle.png",a.ringlogoleft="images/slider/ring_logo_left.png"}angular.module("ringid",["ngWebSocket","ngStorage","ngCookies","ngAnimate","ngRoute","ringid.config","ringid.auth","ringid.sticker","ringid.common.rgslider_directive","ringid.common.rgscrollbar_directive","ringid.common.rgdropdown_directive","ringid.common.rgclick_directive","ringid.connector","ringid.ringbox"]).controller("ApplicationController",a).run(["$$connector",function(a){a.init({fetch:!1})}]),a.$inject=["$scope","$cookies"]}(),function(){"use strict";angular.module("ringid.common.rgslider_directive",[]).directive("rgSlider",function(){return{link:function(a,b,c){function d(){for(x.removeClass("active"),x.eq(o).addClass("active"),y.removeClass("active"),y.eq(o).addClass("active"),n=0;n<r.length;n++)r[n].find("li").removeClass("active"),r[n].find("li").eq(o).addClass("active");G[0]&&j(m(o)),p&&(o=o+1==x.length?0:o+1,e())}function e(){q=setTimeout(function(){d()},w)}function f(){clearTimeout(q)}function g(a){for(var b=a.parentNode.childNodes,c=0,d=0;d<b.length;d++){if(b[d]==a)return c;1==b[d].nodeType&&c++}return-1}function h(){var a;for(n=0;n<z.length;n++)a=angular.element(z[n]),r.push(a),a.find("li").on("click",function(a){o=g(this),f(),d()});x.on("mouseenter",function(a){a.stopPropagation(),p=!1,f()}),x.on("mouseleave",function(a){a.stopPropagation(),p=!0,e()}),y.on("mouseenter",function(a){a.stopPropagation(),p=!1,f()}),y.on("mouseleave",function(a){a.stopPropagation(),p=!0,e()})}function i(){var a,b,c,e,g,h,i;for(a=F[0].clientWidth,b=F[0].clientHeight,c=1,e=Math.round(H/2)-Math.round(a/2),g=Math.round(I/2)-Math.round(b/2),G[J]={w:a,h:b,o:c,l:e,t:g,z:J,i:0},i=A,h=J,n=J+1;n<F.length;n++)i*=B,a=C*G[n-1].w,b=C*G[n-1].h,c=D*G[n-1].o,e=G[n-1].l+G[n-1].w+i-a,--h,g=Math.round(I/2)-Math.round(b/2),G[n]={w:a,h:b,o:c,l:e,t:g,z:h,i:n};for(i=A,h=J,n=J-1;n>=0;n--)i*=B,a=C*G[n+1].w,b=C*G[n+1].h,c=D*G[n+1].o,e=G[n+1].l-i,--h,g=Math.round(I/2)-Math.round(b/2),G[n]={w:a,h:b,o:c,l:e,t:g,z:h,i:n};for(n=0;n<F.length;n++)F[n].orgPos=n,F[n].crslPos=n,F[n].addEventListener("click",function(a){this.crslPos!=J&&(o=this.orgPos,f(),d(),j(this))})}function j(a){k(a),l()}function k(a){for(var b,c=a.crslPos<J?"forward":"backward";a.crslPos!=J;)for("forward"==c?(b=F.pop(),F.unshift(b)):(b=F.shift(),F.push(b)),n=0;n<F.length;n++)F[n].crslPos=n,F[n].className="";a.className="active"}function l(){for(n=0;n<F.length;n++)F[n].style.width=G[n].w+"px",F[n].style.height=G[n].h+"px",F[n].style.opacity=G[n].o,F[n].style.left=G[n].l+"px",F[n].style.top=G[n].t+"px",F[n].style.zIndex=G[n].z,G[n].i=n}function m(a){for(n=0;n<F.length;n++)if(a==F[n].orgPos)return F[n]}var n,o=0,p=!0,q=null,r=[],s=b[0],t=c.navClass||"",u=c.slideClass||"",v=c.descClass||"",w=1e3*parseInt(c.delay)||3e3,x=angular.element(s.querySelectorAll("."+u)),y=angular.element(s.querySelectorAll("."+v)),z=s.querySelectorAll("."+t)||{},A=120,B=.6,C=.6,D=.8,E=s.querySelector(".nav-carousel"),F=E.querySelectorAll("img");F=Array.prototype.slice.call(F);var G=[],H=E.clientWidth,I=E.clientHeight,J=Math.floor(F.length/2);h(),d(),F[0].src=F[0].src,F[0].addEventListener("load",function(){i(),j(F[0]),setTimeout(function(){E.style.visibility="visible"},800)})}}})}(),function(){"use strict";function a(){function a(a){for(var b=document.getElementById(a),c=b.offsetTop,d=b;d.offsetParent&&d.offsetParent!=document.body;)d=d.offsetParent,c+=d.offsetTop;return c}function b(b,c,d){window.onscroll=function(){pageYOffset>=500?document.getElementById("back-top").style.opacity=1:document.getElementById("back-top").style.opacity=0},c.bind("click",function(b){b.preventDefault(),b.stopPropagation();var c=d.offset||0,e=self.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0,f=a(d.scrollTop)-parseInt(c),g=f>e?f-e:e-f;if(100>g)return void scrollTo(0,f);var h=Math.round(g/100);h>=20&&(h=20);var i=Math.round(g/25),j=f>e?e+i:e-i,k=0;if(f>e)for(var l=e;f>l;l+=i)setTimeout("window.scrollTo(0, "+j+")",k*h),j+=i,j>f&&(j=f),k++;else for(var l=e;l>f;l-=i)setTimeout("window.scrollTo(0, "+j+")",k*h),j-=i,f>j&&(j=f),k++})}return{restrict:"A",link:b}}angular.module("ringid.common.rgscrolltotop_directive",[]).directive("scrollTop",a)}();
//# sourceMappingURL=welcome-app.min.js.map