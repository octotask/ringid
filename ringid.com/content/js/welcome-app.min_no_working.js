/*! Ringid.com 2015-08-11 */
!function(a,b){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1}),String.prototype.repeat||(String.prototype.repeat=function(a){return Array(a+1).join(this)}),String.prototype.toCharCodeArray=function(){for(var a=[],b=0;b<this.length;b++)a.push(this.charCodeAt(b));return a},Array.prototype.joinAsDataView=function(){var a,c,d=this,e=0,f=0;if(!d.length)return new b(new ArrayBuffer(0));for(var g=0;g<d.length;g++)d[g]instanceof b&&(f+=d[g].byteLength);if(!f)return new b(new ArrayBuffer(0));a=new ArrayBuffer(f),c=new b(a);for(var g=0;g<d.length;g++)if(d[g]instanceof b)for(var h=0;h<d[g].byteLength;h++)c.setUint8(e++,d[g].getUint8(h));return c},b.prototype.copy=function(a,c){var d=this;a=a||0,c=c||d.byteLength;for(var e=new ArrayBuffer(c),f=new b(e),g=0;c>g;g++)f.setUint8(g,d.getUint8(a++));return f},b.prototype.merge=function(a,c,d,e,f){var g,h,i=this,j=c-a+1,k=f-e+1,l=j+k,m=new ArrayBuffer(l),n=new b(m);for(g=0;j>g;g++)n.setUint8(g,i.getUint8(a++));for(h=g;k>h;h++)n.setUint8(h,d.getUint8(e++));return n},b.prototype.addAttributeInt=function(a,b,c,d){switch(this.setUint8(a++,b),this.setUint8(a++,c),c){case 1:this.setUint8(a++,d);break;case 2:this.setUint16(a,d),a+=2;break;case 4:this.setUint32(a,d),a+=4}return a},b.prototype.addAttributeString=function(a,b,c){this.setUint8(a++,b),this.setUint8(a++,c.length);for(var d=0;d<c.length;d++)this.setUint8(a++,c.charCodeAt(d));return a},b.prototype.print_r=function(a,b,c){b=b||0,c=c||this.byteLength;for(var d,e,f="Index		Binary		Integer		Char\n",g="",h=b;c>h;h++)e=this.getUint8(h),d=String.fromCharCode(e),f+=h+"		 		"+e.toString(2)+"				"+e+"				"+d+"\n",g+=d},b.prototype.getString=function(a,b){var c=this,d=[];b=b||c.byteLength;for(var e=0;b>e;e++)d.push(c.getUint8(a++));return String.fromCharCode.apply(String,d)},b.prototype.getIntByByte=function(a,b){var c=this;switch(b){case 1:return c.getUint8(a);case 2:return c.getUint16(a);case 4:return c.getUint32(a);case 6:case 8:var d,e,f="";for(d=a;a+b>d;d++)e=c.getUint8(d).toString(2),f+=e.length<8?"0".repeat(8-e.length)+e:e;return parseInt(f,2);default:return c.getUint8(a)}},b.prototype.getBool=function(a){return 1===this.getUint8(a)}}(window,DataView),function(){"use strict";angular.module("ringid.config",[]).value("settings",{baseUrl:location.protocol+"//"+location.host+"/",base:location.host,apiUrl:"http://dev.ringid.com:90/APIRequest?",imBase:"http://image.ringid.com/uploaded/",imServer:"http://image.ringid.com/ringmarket/",emoticonBase:"http://localhost:8080/images/emoticon/",stickerBase:"",FEED_LIMIT:10,PROFILE_PIC_UPLOAD_MINIMUM_WIDTH:1280,PROFILE_PIC_UPLOAD_MINIMUM_HEIGHT:720,COVER_PIC_UPLOAD_MINIMUM_WIDTH:1480,COVER_PIC_UPLOAD_MINIMUM_HEIGHT:547,IMAGE_UPLOAD_MAX_WIDTH:1280,IMAGE_UPLOAD_MAX_HEIGHT:720}).constant("MESSAGES",{REQUEST_PROCESSED:"Your Request Was Successfully Processed",REQUEST_FAILED:"Your Request Was Failed ! Please Try Later."}).constant("DATA_TYPES",{DT_FEED:1,DT_FRIENDS:2,DT_UMAYKNOW:3,DT_GROUP:4,DT_NOTIFICATION:5,DT_ALBUM:6,DT_LOGOUT:7,DT_WORK_EDUCATION_SKILL:8,DT_RING_CALL:9}).constant("UPDATE_TYPES",{FEED:1,COMMENT:2,LIKE:3,SHARE:4,STATUS:5,NO_MORE_FEED:6}).constant("ATTRIBUTE_CODES",{AUTHIP:1001,AUTHPORT:1002,ACTION:1,SERVER_PACKET_ID:2,SESSION_ID:3,TOTAL_PACKET:4,PACKET_NUMBER:5,UNIQUE_KEY:6,USER_ID:7,FRIEND_ID:8,DEVICE:9,CLIENT_PACKET_ID:10,CALL_ID:11,FRIEND_IDENTITY:12,CALL_TIME:13,PRESENCE:14,IS_DEVIDED_PACKET:15,USER_IDENTITY:16,USER_NAME:17,TOTAL_RECORDS:18,USER_TABLE_IDS:19,SUCCESS:20,MESSAGE:21,REASON_CODE:22,STATUS:23,DELETED:24,WEB_UNIQUE_KEY:28,WEB_TAB_ID:29,DATA:127,CONTACT:101,CONTACT_TYPE:102,NEW_CONTACT_TYPE:103,FRIENDSHIP_STATUS:104,BLOCK_VALUE:105,CHANGE_REQUESTER:106,CONTACT_UPDATE_TIME:107,MUTUAL_FRIEND_COUNT:108,CALL_ACCESS:110,CHAT_ACCESS:111,FEED_ACCESS:112,ANONYMOUS_CALL:9,PASSWORD:128,RESET_PASSWORD:129,EMAIL:130,DEVICE_UNIQUE_ID:131,DEVICE_TOKEN:132,MOBILE_PHONE:133,BIRTH_DATE:134,MARRIAGE_DAY:135,GENDER:136,COUNTRY_ID:137,CURRENT_CITY:138,HOME_CITY:139,LANGUAGE_ID:140,REGISTRATION_DATE:141,DIALING_CODE:142,IS_MY_NUMBER_VERIFIED:143,IS_EMAIL_VERIFIED:145,MY_NUMBER_VERIFICATION_CODE:146,MYNUMBER_VERIFICATION_CODE_SENT_TIME:147,EMAIL_VERIFICATION_CODE:148,RECOVERY_VERIFICATION_CODE:149,RECOVERY_VERIFICATION_CODE_SENT_TIME:150,PROFILE_IMAGE:151,PROFILE_IMAGE_ID:152,COVER_IMAGE:153,COVER_IMAGE_ID:154,COVER_IMAGE_X:155,COVER_IMAGE_Y:156,ABOUT_ME:157,TOTAL_FRIENDS:158,RING_EMAIL:159,UPDATE_TIME:160,NOTIFICATION_VALIDITY:161,WEB_LOGIN_ENABLED:162,PC_LOGIN_ENABLED:163,COMMON_FRIEND_SUGGESTION:164,PHONE_NUMBER_SUGGESTION:165,CONTACT_LIST_SUGGESTION:166}).constant("OPERATION_TYPES",{SYSTEM:{VERSION:1015,REQUEST_TYPE:{KEEP_ALIVE:1,CONFIRMATION:2,AUTHENTICATION:3,UPDATE:4,REQUEST:5,CALL:6,CHAT:7},TYPE_KEEP_ALIVE:26,TYPE_INVALID_LOGIN_SESSION:19,TYPE_SINGLE_STATUS_NOTIFICATION_OR_SHARE_DETAILS:114,TYPE_NEWS_FEED:88,TYPE_MY_NEWS_FEED:94,TYPE_FRIEND_NEWSFEED:110,TYPE_GROUP_NEWS_FEED:198,TYPE_COMMENTS_FOR_STATUS:84,ACTION_SHARE_STATUS:191,TYPE_ADD_MULTI_IMAGE:117,TYPE_ADD_STATUS:177,TYPE_SINGLE_IMAGE_STATUS:1,TYPE_TEXT_STATUS:2,TYPE_MULTI_IMAGE_STATUS:3,TYPE_DELETE_STATUS:179,TYPE_EDIT_STATUS:178,TYPE_LIKE_STATUS:184,TYPE_UNLIKE_STATUS:186,TYPE_ADD_STATUS_COMMENT:181,TYPE_LIKE_COMMENT:123,TYPE_UNLIKE_COMMENT:125,TYPE_DELETE_STATUS_COMMENT:183,TYPE_EDIT_STATUS_COMMENT:189,TYPE_LIKES_FOR_STATUS:92,TYPE_LIKES_FOR_IMAGE:93,TYPE_IMAGE_COMMENT_LIKES:196,TYPE_LIST_LIKES_OF_COMMENT:116,TYPE_WHO_SHARES_LIST:249,TYPE_UPDATE_ADD_STATUS:377,TYPE_UPDATE_EDIT_STATUS:378,ACTION_UPDATE_SHARE_STATUS:391,TYPE_UPDATE_LIKE_STATUS:384,TYPE_UPDATE_UNLIKE_STATUS:386,TYPE_UPDATE_DELETE_STATUS:379,TYPE_UPDATE_ADD_STATUS_COMMENT:381,TYPE_UPDATE_LIKE_COMMENT:323,TYPE_UPDATE_UNLIKE_COMMENT:325,TYPE_UPDATE_DELETE_STATUS_COMMENT:383,TYPE_UPDATE_EDIT_STATUS_COMMENT:389,ALBUM:{TYPE_UPLOAD_ALBUM_IMAGE:85,TYPE_UPDATE_UPLOAD_ALBUM_IMAGE:90,TYPE_DELETE_ALBUM_IMAGE:176,TYPE_UPDATE_DELETE_ALBUM_IMAGE:376,CREATE_ALBUM:1,GET_IMAGE_UPLOAD_INFO:2,GET_ALBUM_LIST:3,GET_ALBUM_DETAILS:4,GET_ALL_IMAGES:5},AUTH:{TYPE_SIGN_IN:20,TYPE_SIGN_OUT:22,TYPE_SIGN_UP:21,TYPE_SESSION_VALIDATION:76,SIGNUP_INIT:2,SIGNUP_SEND_EMAIL:3,SIGNUP_VERIFY_EMAIL:4,SIGNUP:5},FRIENDS:{TYPE_CONTACT_UTIDS:29,TYPE_CONTACT_LIST:23,TYPE_PEOPLE_YOU_MAY_KNOW:106,TYPE_FRIEND_CONTACT_LIST:107,TYPE_CONTACT_SEARCH:34,TYPE_SEARCH_BY_ALL:0,TYPE_SEARCH_BY_NAME:1,TYPE_SEARCH_BY_PHONE:2,TYPE_SEARCH_BY_EMAIL:3,TYPE_SEARCH_BY_RINGID:4,TYPE_SEARCH_BY_LOCATION:5,TYPE_ADD_FRIEND:127,TYPE_UPDATE_ADD_FRIEND:327,TYPE_DELETE_FRIEND:128,TYPE_UPDATE_DELETE_FRIEND:328,TYPE_ACCEPT_FRIEND:129,TYPE_UPDATE_ACCEPT_FRIEND:329,TYPE_ACTION_BLOCK_UNBLOCK_FRIEND:243,TYPE_ACTION_CHANGE_FRIEND_ACCESS:244},NOTIFICATION:{TYPE_MY_NOTIFICATIONS:111,CLEAR_NOTIFICATION_COUNTER:3,GET_NOTIFICATION:4,REDIRECT_INFO:5,NOTIFICATION_DETAILS:6,MSG_TYPE_UPDATE_PROFILE_IMAGE:1,MSG_TYPE_UPDATE_COVER_IMAGE:2,MSG_TYPE_ADD_FRIEND:3,MSG_TYPE_ACCEPT_FRIEND:4,MSG_TYPE_ADD_GROUP_MEMBER:5,MSG_TYPE_ADD_STATUS_COMMENT:6,MSG_TYPE_LIKE_STATUS:7,MSG_TYPE_LIKE_COMMENT:8,MSG_TYPE_ADD_COMMENT_ON_COMMENT:9,MSG_TYPE_SHARE_STATUS:10,MSG_TYPE_LIKE_IMAGE:11,MSG_TYPE_IMAGE_COMMENT:12,MSG_TYPE_LIKE_IMAGE_COMMENT:13,MSG_TYPE_UPGRADE_FRIEND_ACCESS:14,MSG_TYPE_ACCEPT_FRIEND_ACCESS:15,MSG_TYPE_DOWNGRADE_FRIEND_ACCESS:16,NOTIFICATION_NOW_FRIEND:17},CIRCLE:{TYPE_CREATE_GROUP:50,TYPE_LEAVE_GROUP:53,TYPE_GROUP_LIST:70,TYPE_GROUP_MEMBERS_LIST:99,TYPE_DELETE_GROUP:152,TYPE_UPDATE_DELETE_GROUP:352,TYPE_REMOVE_GROUP_MEMBER:154,TYPE_UPDATE_REMOVE_GROUP_MEMBER:354,TYPE_ADD_GROUP_MEMBER:156,TYPE_UPDATE_ADD_GROUP_MEMBER:356,TYPE_EDIT_GROUP_MEMBER:158,TYPE_UPDATE_EDIT_GROUP_MEMBER:358},CHAT_CIRCLE:{CREATE_CIRCLE:105,EDIT_CIRCLE:119,DELETE_CIRCLE:226,LIST_CIRCLES:225,ADD_MEMBER:240,REMOVE_MEMBER:242,JOIN_GROUP:240,LEAVE_GROUP:242},IMAGE:{PROFILE_IMAGE_ALBUM_ID:"profileimages",COVER_IMAGE_ALBUM_ID:"coverimages",FEED_IMAGE_ALBUM_ID:"default",TYPE_FRIEND_ALBUM_IMAGES:109,TYPE_ALBUM_IMAGES:97,TYPE_COMMENTS_FOR_IMAGE:89,TYPE_LIKES_FOR_IMAGE:93,TYPE_LIKE_IMAGE:185,TYPE_IMAGE_DETAILS:121,TYPE_EDIT_IMAGE_COMMENT:194,TYPE_ADD_IMAGE_COMMENT:180,TYPE_DELETE_IMAGE_COMMENT:182,TYPE_UPDATE_ADD_IMAGE_COMMENT:380,TYPE_UPDATE_EDIT_IMAGE_COMMENT:394,TYPE_UPDATE_DELETE_IMAGE_COMMENT:382,TYPE_UPDATE_LIKE_IMAGE:385,TYPE_UNLIKE_IMAGE:187,TYPE_UPDATE_UNLIKE_IMAGE:387,TYPE_LIKE_UNLIKE_IMAGE_COMMENT:197,TYPE_UPDATE_LIKE_UNLIKE_IMAGE_COMMENT:397},PROFILE:{TYPE_ACTION_GET_USER_DETAILS:204,TYPE_USER_DETAILS:95,TYPE_CHANGE_COVER_PIC:103,TYPE_CHANGE_PROFILE_PIC:63,TYPE_REMOVE_PROFILE_IMAGE:43,TYPE_REMOVE_COVER_IMAGE:104,CHANGE_PASSWORD:130}},STICKER:{GET_CATEGORIES:5,ADD_STICKER:3,REMOVE_STICKER:4},SYSTEM_TYPE:{TYPE_NEWS_FEED:88,TYPE_ACTION_GET_USER_DETAILS:204,TYPE_ACTION_LIST_WORK_AND_EDUCATIONS:230,TYPE_ACTION_CURRENT_USER_BASICINFO:21,TYPE_ACTION_OTHER_USER_BASICINFO:95,TYPE_ACTION_MODIFY_USER_PROFILE:25,TYPE_ACTION_MODIFY_PRIVACY_SETTINGS:74,ACTION_UPDATE_LOGIN_SETTINGS:216,TYPE_ACTION_ADD_EDUCATION:231,TYPE_ACTION_UPDATE_EDUCATION:232,TYPE_ACTION_REMOVE_EDUCATION:233,TYPE_ACTION_ADD_SKILL:237,TYPE_ACTION_UPDATE_SKILL:238,TYPE_ACTION_REMOVE_SKILL:239,TYPE_ACTION_ADD_WORK:227,TYPE_ACTION_UPDATE_WORK:228,TYPE_ACTION_REMOVE_WORK:229}}).constant("CUSTOM_PROMISE",{REQUEST_SENT:"SENT"}).constant("MOUSE_CLICK",{LEFT_CLICK:1,MIDDLE_CLICK:2,RIGHT_CLICK:3}).constant("CLIENT_DATA_SIZE",2e3).value("DATE_FORMAT","MMM d, y h:mm a")}(),function(){"use strict";function a(a,b){function c(b,c,d){function e(a){var b=parseInt(k.css("margin-top")||0)+a;f(b)}function f(a){var c=Math.min(0,Math.max(a,-p+n)),d=-c/p;k.css("margin-top",c+"px"),m.css("top",d*n+j.scrollbar.margin+"px"),"-"+l.css("margin-top")==c+"px"&&b.bottomReached(),l.css("margin-top",-c+"px")}function g(){o&&m.css("opacity",0)}function h(){o&&m.css("opacity",1)}var i,j={autoResize:!0,scrollbar:{width:4,hoverWidth:6,color:"#F47727",show:!1},scrollbarContainer:{width:8,color:"#f3a454"},dragSpeedModifier:1,mouseDrag:!1,firefoxModifier:40,scrollTo:(b.config||{}).scrollTo||null},k=angular.element(c[0].querySelector(".ringscroll-container")),l=angular.element(c[0].querySelector(".ringscroll-scrollbar-container")),m=angular.element(l.children()[0]),n=0,o=!1,p=0;j.scrollbar.margin=(j.scrollbarContainer.width-j.scrollbar.width)/2,j.scrollbar.hoverMargin=(j.scrollbarContainer.width-j.scrollbar.hoverWidth)/2,b.styles={scrollbar:{position:"absolute",width:j.scrollbar.width+"px",right:j.scrollbar.margin+"px",top:j.scrollbar.margin+"px",cursor:"default",opacity:j.scrollbar.show?1:0,background:j.scrollbar.color,"border-radius":j.scrollbar.width/2+"px"},scrollbarContainer:{position:"absolute",right:0,top:0,height:"100%",width:j.scrollbarContainer.width+"px",transition:"background .3s ease-in-out","border-radius":j.scrollbarContainer.width/2+"px"}};var q=function(){k.css("height","auto"),p=k[0].scrollHeight||0,n=c[0].offsetHeight-2*j.scrollbar.margin,i=n/p*n,k.css("height",p+"px"),n>=p?(p=n,c.addClass("no-scrollbar"),c.removeClass("has-scrollbar"),o=!1,g()):(c.addClass("has-scrollbar"),c.removeClass("no-scrollbar"),o=!0,j.scrollbar.show&&h()),m.css("height",i+"px"),m.css("transition","opacity .2s ease-in-out, border-radius .1s linear, width .1s linear, right .1s linear")};j.autoResize===!0&&(k.on("DOMNodeInserted",function(){f(0),q()}),k.on("DOMNodeRemoved",function(){f(0),q()})),k.on("mousewheel",function(a){a.preventDefault(),void 0!==a.originalEvent&&(a=a.originalEvent);var b=a.wheelDeltaY||a.wheelDelta;e(b)}),window.navigator.userAgent.toLowerCase().indexOf("firefox")>=0&&k.on("wheel",function(a){a.preventDefault(),void 0!==a.originalEvent&&(a=a.originalEvent);var b=a.deltaY;return e(-b*j.firefoxModifier),!1});var r,s;m.on("mousedown",function(b){return b.preventDefault(),b.stopPropagation(),r=!0,angular.element(a).on("mouseup",function(a){a.stopPropagation(),r=!1,j.scrollbar.show||g()}),s=b.screenY,!1}),angular.element(a).on("mousemove",function(a){if(r){a.preventDefault(),a.stopPropagation();var b=a.screenY-s;b*=j.dragSpeedModifier,s+=b*(i/n),e(-b)}}),j.scrollbar.show||(c.on("mouseenter",h),l.on("mouseenter",h),c.on("mouseleave",function(){r||g()})),l.on("mouseenter",function(){o&&(l.css("background",j.scrollbarContainer.color),m.css("width",j.scrollbar.hoverWidth+"px"),m.css("right",j.scrollbar.hoverMargin+"px"),m.css("border-radius",j.scrollbar.hoverWidth/2+"px"))}),l.on("mouseleave",function(){o&&(l.css("background","none"),m.css("width",j.scrollbar.width+"px"),m.css("right",j.scrollbar.margin+"px"),m.css("border-radius",j.scrollbar.width/2+"px"))}),c.css("overflow-y","hidden"),q(),f(0),b.$on("reCalculateScrollbar",function(a){setTimeout(function(){q()},10)}),b.$on("scrollTop",function(a){setTimeout(function(){f(0)},10)})}return{restrict:"A",scope:{bottomReached:"&"},transclude:!0,template:"<div class='ringscroll-resizable' style='position: relative; width: 100%; height: 100%;'>  <div class='ringscroll-container' style='width: 100%; height: 100%;' ng-transclude></div>  <div class='ringscroll-scrollbar-container' ng-style='styles.scrollbarContainer'>   <div class='ringscroll-scrollbar' ng-style='styles.scrollbar'></div>  </div> </div>",link:c}}function b(){return{recalculate:function(a){a.$broadcast("reCalculateScrollbar")},scrollTop:function(a){a.$broadcast("scrollTop")},bottomReached:function(a){a.$broadcast("bottomReached",{})}}}angular.module("ringid.common.rgscrollbar_directive",[]).directive("rgScrollbar",a).service("rgScrollbarService",b),a.$inject=["$document","rgScrollbarService"]}(),function(){"use strict";function a(a){var b=this,c=null;b.open=function(d){c||a.bind("click",b.closeDropdown),c&&c.instanceId!==d.instanceId&&(c.$parent.showDropdown=!1),c=d},b.close=function(d){c&&c.instanceId===d.instanceId&&(c=null,a.unbind("click",b.closeDropdown))},b.closeDropdown=function(a){c.$apply(function(){c.$parent.showDropdown=!1})}}function b(a,b,c,d,e){function f(a){var b=a.$new();b.instanceId=Math.floor(99999*Math.random())+1,b.$watch("showDropdown",function(c,f){c?d.open(b):d.close(b),e.recalculate(a)}),b.$on("$destroy",function(){b.$destroy()})}function g(c,d,e){c.showDropdown=!1,d.on("click",function(a){c.showDropdown||b(function(){c.showDropdown=!c.showDropdown,c.showDropdown&&c.ddOpened()})});var f=a(c.ddHtml)(c);d.after(f)}return f.$inject=["$scope"],{restrict:"A",controller:f,link:g,scope:{ddHtml:"=",ddControl:"=",ddAction:"&",ddOpened:"&"}}}angular.module("ringid.common.rgdropdown_directive",["ringid.config","ringid.common.rgscrollbar_directive"]).service("rgDropdownService",a).directive("rgDropdown",b),a.$inject=["$document"],b.$inject=["$compile","$timeout","$parse","rgDropdownService","rgScrollbarService"]}(),function(){"use strict";angular.module("ringid.common.rgaccordion_directive",[]).directive("rgAccordion",function(){return{link:function(a,b,c){var d=b[0],e=c.titleClass||"",f=c.descClass||"",g=angular.element(d.querySelectorAll("."+e)),h=angular.element(d.querySelectorAll("."+f));g.on("click",function(a){a.preventDefault(),a.stopPropagation(),g.removeClass("active"),h.removeClass("active"),this.className=this.className+" active",this.nextElementSibling.className=this.nextElementSibling.className+" active"})}}})}(),function(){"use strict";function a(a){return{restrict:"A",link:function(b,c,d){var e=a(d.rgClick),f=d.rgClickNoapply;c.bind("click",function(a){a.preventDefault(),f?(e(b,{$event:a}),b.$digest()):b.$apply(function(){e(b,{$event:a})})})}}}function b(){return{restrict:"A",transclude:!0,link:function(a,b,c){b.on("load",function(){})}}}angular.module("ringid.common.rgclick_directive",[]).directive("rgImgLoad",b).directive("rgClick",a),a.$inject=["$parse"]}(),function(){"use strict";angular.module("ringid.sticker",["ringid.config"])}(),function(){"use strict";function a(a,b,c){var d=this,e=c.STICKER;d.go=function(c,d){return d=d||"post",a[d](b.baseUrl+"secure/APIEmoticons",c)},d.getStickerCategories=function(a){var b={operation:e.GET_CATEGORIES};return a&&(b.mySt=a),d.go(b)},d.addSticker=function(a){var b={operation:e.ADD_STICKER,catId:a.catId};return d.go(b)},d.removeSticker=function(a){var b={operation:e.REMOVE_STICKER,catId:a.catId};return d.go(b)}}angular.module("ringid.sticker").service("stickerHttpService",a),a.$inject=["$http","settings","OPERATION_TYPES"]}(),function(){"use strict";function a(a){return{create:function(b,c){var d={e:1,el:2,s:3},e={id:b.id||0,name:b.name||"",symbol:b.symbol||b.name,type:b.type||0,src:1===c?a.emoticonBase+b.name:a.stickerBase+b.name,isEmoticon:c===d.e,isLargeEmoticon:c===d.el,isSticker:c===d.s};return{getKey:function(){return e.id},src:function(){return e.src},symbol:function(){return e.symbol},getName:function(){return e.name},isEmoticon:function(){return e.isEmoticon},isLargeEmoticon:function(){return e.isLargeEmoticon},isSticker:function(){return e.isSticker}}}}}function b(a,b,c){return{create:function(d,e){var f,g={categoryId:d.categoryId||0,collectionId:d.collectionId||0,imageListMap:a.createNew(),type:d.type||0,isEmoticon:1===d.type?!0:!1,isLargeEmoticon:2===d.type?!0:!1,isSticker:3===d.type?!0:!1,regularUrl:1===d.type?"/images/emoticon/c.png":c.stickerBase+d.collectionId+"/"+d.categoryId+"/c.png",hoverUrl:1===d.type?"/images/emoticon/ca.png":c.stickerBase+d.collectionId+"/"+d.categoryId+"/ca.png",installed:e||!1};for(var h in d.imageList)f=b.create(d.imageList[h],g.type),g.imageListMap.add(f.getKey(),f);return{sortBy:function(){return g.categoryId},isInstalled:function(){return g.installed},setInstalled:function(a){g.installed=a},isEmoticon:function(){return g.isEmoticon},isLargeEmoticon:function(){return g.isLargeEmoticon},isSticker:function(){return g.isSticker},getKey:function(){return g.categoryId},getImages:function(){return g.imageListMap},getType:function(){return g.type},link:function(){return g.regularUrl},hoverLink:function(){return g.hoverUrl}}}}}function c(a,b,c,d){var e,f=a.createNew(!0,"asc"),g=a.createNew(!0,"asc"),h=/(:\))|(:\()|(:D)|(\(cool\))|(:O)|(;\))|(;\()|(\(:)|(:l)|(:\*)|(:P)|(:\$)|(:\^\))|(\|\-\))|(\|\-\()|(\(in\-love\))|(\(evil\-grin\))|(\(yn\))|(\(yawn\))|(\(puke\))|(\(doh\))|(\(angry\))|(\(wasntme\))|(\(party\))|(\(devil\))|(\(angel\))|(\(worry\))|(\(nerd\))|(:x)|(\(wave\))|(\(facepalm\))|(\(envy\))|(\(wait\))|(\(rofl\))|(\(dap\))|(\(shake\))|(\(an\-happy\))|(\(shame\))|(\(sta\))|(\(contract\))|(\(nice\))|(\(tness\))|(\(e\-smile\))|(\(trouble\))|(\(over\))|(\(amour\))|(\(minus\))|(\(inti\))|(\(unex\))|(\(forgotten\))|(\(ms\-of\))|(\(presentation\))|(\(flashed\))|(\(phantom\))|(\(head\-hot\))|(\(nurses\))|(\(cat\-hat\))|(\(re\-sad\))|(\(creative\-man\))|(\(regretted\-borne\-crying\))/g,i={":)":"smile.png",":(":"sad.png",":D":"laugh.png","(cool)":"cool.png",":O":"surprised.png",";)":"wink.png",";(":"crying.png","(:":"sweating.png",":l":"speechless.png",":*":"kiss.png",":P":"cheeky.png",":$":"blushing.png",":^)":"wondering.png","|-)":"sleepy.png","|-(":"dull.png","(in-love)":"in-love.png","(evil-grin)":"evil-grin.png","(yn)":"fingers-crossed.png","(yawn)":"yawn.png","(puke)":"puking.png","(doh)":"doh.png","(angry)":"angry.png","(wasntme)":"it-wasn-me.png","(party)":"party.png","(devil)":"devil.png","(angel)":"angel.png","(worry)":"worried.png","(nerd)":"nerdy.png",":x":"my-lips-are-sealed.png","(wave)":"hi.png","(facepalm)":"facepalm.png","(envy)":"envy.png","(wait)":"wait.png","(rofl)":"rolling-on.png","(dap)":"clapping.png","(shake)":"shake.png","(an-happy)":"more-than-happy.png","(shame)":"shame.png","(sta)":"startle.png","(contract)":"phone-contract.png","(nice)":"look-nice.png","(tness)":"unpleasantness.png","(e-smile)":"terrible-smile.png","(trouble)":"goofy-feeling-trouble.png","(over)":"topics-over.png","(amour)":"amour-dreams.png","(minus)":"minus-points.png","(inti)":"be-intimidated.png","(unex)":"unexpected-smiles.png","(forgotten)":"forgotten.png","(ms-of)":"dreams-of-love.png","(presentation)":"presentation.png","(flashed)":"flashed-smiles.png","(phantom)":"phantom.png","(head-hot)":"head-hot.png","(nurses)":"nurses.png","(cat-hat)":"cat-hat.png","(re-sad)":"re-sad.png","(creative-man)":"creative-man.png","(regretted-borne-crying)":"regretted-borne-crying.png"},j={type:1},k=0;j.imageList=[];for(var l in i)j.imageList.push({id:k,name:i[l],symbol:l,type:1});return e=b.create(j,!0),{getNoOfMyStickers:function(){return g.length()},getStickerList:function(){return f},getMyStickers:function(){return g},getSticker:function(a){return f.get(a)},getEmoticons:function(){return e},addMySticker:function(a){c.addSticker({catId:a.getKey()}).success(function(b){a.setInstalled(!0),g.save(a.getKey(),a)}).error(function(a){})},removeMySticker:function(a){c.removeSticker({catId:a.getKey()}).success(function(b){a.setInstalled(!1),g.remove(a.getKey())}).error(function(a){})},getEmoticonMapper:function(){var a={};for(var b in i)a[b]=d.emoticonBase+i[b];return a},getEmoticonPattern:function(){return h}}}angular.module("ringid.sticker").factory("StickerFactory",c).factory("$$stickerMap",b).factory("$$stickerImageMap",a),a.$inject=["settings"],b.$inject=["$$stackedMap","$$stickerImageMap","settings"],c.$inject=["$$stackedMap","$$stickerMap","stickerHttpService","settings"]}(),function(){"use strict";angular.module("ringid.utils",["ringid.config","ringid.common.stacked_map","ringid.sticker"])}(),function(){"use strict";var a;a=angular.module("ringid.utils"),a.factory("utilsFactory",["$window","$document","settings","$filter","$localStorage","StickerFactory",function(a,b,c,d,e,f){var g=function(){var c=a,d=b,e=d[0].documentElement,f=d[0].getElementsByTagName("body")[0],g=c.innerWidth||e.clientWidth||f.clientWidth,h=c.innerHeight||e.clientHeight||f.clientHeight;return{x:g,y:h}},h=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/gi,i=f.getEmoticonPattern(),j=f.getEmoticonMapper(),k=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},l=function(a){a=k(a);var b=a.replace(h,function(a){return'<a class="feedanchor" target="_blank" href="'+a+'"> '+a.substr(0,30)+"</a>"});return b=b.replace(i,function(a){var b=new Image;return b.src=j[a],'<img title="'+a+'" src="'+j[a]+'" />'})},m=function(b){return b||(b=""),b+a.Math.floor(a.Math.random()*(new a.Date).getTime())};m("tb-");return{tabId:1,viewport:g(),hasSocket:function(){return!0},parseForLE:function(a){return l(a)},init:function(){this.viewport=g()},feedColumn:function(){return this.viewport.x<1920?2:3},getUniqueID:function(a){return m(a)},getToken:"234",verbalDate:function(b,c){var e,f,g,h=a.Math;if(c=c||(new Date).getTime(),isNaN(b)&&(e=new Date((b||"").replace(/-/g,"/").replace(/[TZ]/g," ")),b=e.getTime()),f=(c-b)/1e3,g=h.floor(f/86400),isNaN(g)||0>g)return"";switch(!0){case 0===g:switch(!0){case 60>f:return"just now";case 120>f:return"1 minute Ago";case 3600>f:return h.floor(f/60)+" minutes ago";case 7200>f:return"1 hour ago";case 86400>f:return h.floor(f/3600)+" hours ago";default:return d("date")(b,"MMM d, h:mm a")}break;case 1===g:return"yesterday at "+d("date")(b,"h:mm a");case 7>g:return d("date")(b,"EEEE 'at' h:mm a");case 365>g:return d("date")(b,"MMMM d 'at' h:mm a");default:return d("date")(b,"MMM d, YYYY")}}}}])}(),function(){"use strict";function a(){return{restrict:"A",link:function(a,b,c){var d,e,f=b[0],g=35,h=0,i=c.autoGrowPost,j=function(){d=parseInt(window.getComputedStyle(f).height),e=d-f.clientHeight,f.style.height=0,f.style.height=Math.max(g,f.scrollHeight+e)+"px"},k=function(){document.querySelector("div.cell:first-child+div.cell").style.marginTop=h+b[0].clientHeight+110+"px"};f.addEventListener("input",function(){j(),"true"===i&&k()});a.$on("imageAdded",function(a,c){b[0].attributes["auto-grow-post"]&&(0>c&&h>0?(h=0,k()):c>0&&0===h&&(h=c-40,k()))});a.$on("postsubmitted",function(){b.css("height","20px"),h=0,k()}),a.$on("$destroy",function(){b.off("imageAdded")})}}}var b;b=angular.module("ringid.utils"),b.directive("loadMore",["$window","$document","utilsFactory",function(a,b,c){return{restrict:"A",link:function(b,d,e){var f=angular.element(a),g=c.viewport,h=function(){var a=d[0].clientHeight-(g.y+f[0].scrollY);400>a&&b.$apply(e.loadMore)};f.bind("scroll",h);var i=function(){f.off("scroll",h)};b.$on("$destroy",i)}}}]),b.directive("autoGrow",a)}(),function(){"use strict";angular.module("ringid.common.stacked_map",[]).factory("$$stackedMap",function(){return{createNew:function(a,b){function c(a){a=a||"sortBy",g.sort(function(c,d){return"desc"===b?(i=1,j=-1):(i=-1,j=1),d.value[a]()>c.value[a]()?i:c.value[a]()>d.value[a]()?j:0})}function d(a){for(var b=0;b<g.length;b++)if(a==g[b].key)return b;return-1}function e(a){var b=d(a);return-1===b||b===g.length-1?!1:g[b+1].value}function f(a){var b=d(a);return-1===b||0===b?!1:g[b-1].value}var g=[],h=this,i=1,j=-1;return a=a||!1,b=b||"desc",{concat:function(a){g=g.concat(a)},reset:function(){g.length=0},all:function(){return g},setStack:function(a){g=a},add:function(b,d){return g.push({key:b,value:d}),a!==!1&&c(),!1},next:function(a){return e(a)},previous:function(a){return f(a)},getIndex:function(a){return d(a)},get:function(a){for(var b=0;b<g.length;b++)if(a==g[b].key)return g[b].value;return!1},save:function(b,d){for(var e=-1,f=0;f<g.length;f++)if(b==g[f].key){e=f;break}-1===e?this.add(b,d):g[e]={key:b,value:d},a!==!1&&c()},sort:function(a,d){a&&(b=a),c(d)},keys:function(){for(var a=[],b=0;b<g.length;b++)a.push(g[b].key);return a},top:function(a){return g.length?(a=!!a,a?g[g.length-1]:g[g.length-1].value):!1},sliceBy:function(a,b){return b||(b=0),(a>g.length||!a)&&(a=g.length),g.slice(b,a)},remove:function(a){for(var b=-1,c=0;c<g.length;c++)if(a==g[c].key){b=c;break}return b>-1?g.splice(b,1)[0]:[]},removeTop:function(){return g.splice(g.length-1,1)[0]},length:function(){return g.length},copy:function(){for(var c=h.createNew(a,b),d=0;d<g.length;d++)c.add(g[d].key,g[d].value);return c},doForAll:function(a){for(var b=0;b<g.length;b++)a.call(null,g[b].value)}}}}})}(),function(){"use strict";function a(a,b,c){var d=c.createNew(),e=function(){d.doForAll(function(a){a.call(null)})};return a.onfocus=e,{add:function(a){var c=b.getUniqueID();return d.add(c,a),c},remove:function(a){return d.remove(a)},fire:function(){e()}}}function b(a,b,c){var d=c.createNew(),e=function(){d.doForAll(function(a){a.call(null)})};return a.onblur=e,{add:function(a){var c=b.getUniqueID();return d.add(c,a),c},remove:function(a){return d.remove(a)},fire:function(){e()}}}var c;c=angular.module("ringid.utils"),c.factory("windowFocusHandler",a),a.$inject=["$window","utilsFactory","$$stackedMap"],c.factory("windowBlurHandler",b),b.$inject=["$window","utilsFactory","$$stackedMap"]}(),angular.module("ringid.ringbox",["ringid.common.stacked_map","ringid.utils"]).directive("ringboxOverlay",["$timeout",function(a){return{restrict:"EA",replace:!0,templateUrl:"pages/ringbox/ringoverlay.html",link:function(a,b,c){}}}]).directive("ringboxContainer",["$boxStack","$timeout","utilsFactory",function(a,b,c){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"pages/ringbox/ringbox.html"},link:function(d,e,f){if(e.addClass(f.windowClass||""),d.size=f.size,e.on("click",function(a){d.close(a)}),b(function(){e[0].querySelectorAll("[autofocus]").length||e[0].focus()}),d.$on("ringbox.content.changed",function(a,b){if(b.height>10){var d=(c.viewport.y-b.height)/2;e.children().css({"margin-top":d+"px"})}}),d.boxIsLoading=function(){var b=a.getTop();return b?b.value.boxScope.boxIsLoading:!1},d.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},e.children()[0].clientHeight>10){var g=(c.viewport.y-e.children()[0].clientHeight)/2;e.children().css({"margin-top":g+"px"})}}}}]).directive("boxTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.html();b.empty(),b.append(a)})}}}).factory("$boxStack",["$timeout","$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d,e){function f(){for(var a=-1,b=m.keys(),c=0;c<b.length;c++)m.get(b[c]).backdrop&&(a=c);return a}function g(a){var c=b.find("body").eq(0),d=m.get(a);m.remove(a),i(d.boxDomEl,function(){d.boxScope.$destroy(),c.toggleClass(l,m.length()>0),h()})}function h(){if(j&&-1==f()){var a=k;i(j,function(){a.$destroy(),a=null}),j=void 0,k=void 0}}function i(b,c){var d=function(){b.remove(),c&&c()};a(d)}var j,k,l="ringbox-opened",m=e.createNew(),n={};return d.$watch(f,function(a){k&&(k.index=a)}),b.bind("keydown",function(a){var b;27===a.which&&(b=m.top(),b&&b.keyboard&&(a.preventDefault(),d.$apply(function(){n.dismiss(b.key,"escape key press")})))}),n.open=function(a,e){m.add(a,{deferred:e.deferred,boxScope:e.scope,backdrop:e.backdrop,index:m.length(),keyboard:e.keyboard});var g=b.find("body").eq(0),h=f();if(h>=0&&!j){k=d.$new(!0),k.index=h;var i=angular.element("<div ringbox-overlay></div>");i.attr("backdrop-class",e.backdropClass),j=c(i)(k),g.append(j)}var n=angular.element("<div ringbox-container></div>");n.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:m.length()-1,animate:"animate"}).html(e.content);var o=c(n)(e.scope);m.top().boxDomEl=o,g.append(o),g.addClass(l)},n.close=function(a,b){var c=m.get(a);c&&(c.deferred.resolve(b),g(a))},n.dismiss=function(a,b){var c=m.get(a);c&&(c.deferred.reject(b),g(a))},n.setContent=function(a,d){var e,f=b.find("body").eq(0);e=a?m.get(a):this.getTop().value,e.boxDomEl.remove();var g=angular.element("<div ringbox-container></div>");g.attr({index:e.index,animate:"animate"}).html(d);var h=c(g)(e.boxScope);e.boxDomEl=h,f.append(h)},n.dismissAll=function(a){for(var b=this.getTop();b;)this.dismiss(b.key,a),b=this.getTop()},n.getTop=function(){return m.top(!0)},n}]).provider("$ringbox",function(){var a={options:{backdrop:!0,keyboard:!0,navigation:!1,boxIsLoading:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$boxStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){angular.isDefined(a.promise)?c.push(a.promise):(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)},setContent:function(a){var b=d.when(i(a));b.then(function(a){h.setContent(k,a)})},resize:function(){}};b=angular.extend({},a.options,b),b.resolve=b.resolve||{};var l=(b.scope||c).$new();if(angular.forEach(a.options,function(a,c){l[c]=b[c]}),!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var m=d.all([i(b)].concat(j(b.resolve)));return h.open(k,{scope:l,deferred:e,content:"",backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size}),m.then(function(a){l.$close=k.close,l.$dismiss=k.dismiss;var c,d={},e=1;b.controller&&(d.$scope=l,d.$boxInstance=k,angular.forEach(b.resolve,function(b,c){d[c]=a[e++]}),c=g(b.controller,d),b.controllerAs&&(l[b.controllerAs]=c)),l.boxIsLoading=!1,h.setContent(k,a[0])},function(a){e.reject(a)}),m.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}).directive("rgRingbox",["$ringbox",function(a){return{restrict:"EA",scope:{ringboxData:"&"},link:function(b,c,d){var e=function(){var e,f,g={};angular.noop();e=d.ringboxType,e||(e="html"),d.ringboxData&&angular.isFunction(b.ringboxData)&&(g=b.ringboxData());var h=g.data?g.data:g,i={type:e,scope:d.ringboxScope?b:!1,controller:d.ringboxController||"",resolve:{localData:h,remoteData:g.promise?g:angular.noop},onBackDropClickClose:d.ringBackdropClose||!0};if("remote"===e)i.templateUrl=d.ringboxTarget||b.ringboxTarget||d.href||d.src;else if("video"===e);else if(e="html",
f=d.ringboxTarget||b.ringboxTarget){if(i.template=angular.element(document.querySelector(f)),!(i.template.length>0))throw new Error("Opps ! Your Provideed Target element Does Not Exist!");i.template=i.template[0].outerHTML}else i.template=c.html();var j=a.open(i);j.result.then(function(a){angular.isDefined(b.onRingBoxClose)&&angular.isFunction(b.onRingBoxClose)&&b.$apply(function(){b.onRingBoxClose()})},function(){}),j.opened.then(function(){angular.isDefined(b.onRingBoxOpen)&&angular.isFunction(b.onRingBoxOpen)&&b.$apply(function(){b.onRingBoxOpen()})})},f=function(){c.on("click",e),b.$on("$destroy",function(){c.off("click",e)})};(""===d.rgRingbox||"true"===d.rgRingbox)&&f()}}}]),function(){"use strict";function a(a,b){var c=a.createNew(),d=function(){var a;c.doForAll(function(b){a=b.call(null),a&&!a.$$phase&&a.$digest()})};return{add:function(a){var d=b.getUniqueID();return c.add(d,a),d},remove:function(a){return c.remove(a)},synch:function(){c.length()>0&&d()}}}angular.module("ringid.syncher",["ringid.common.stacked_map","ringid.utils"]).factory("$$rgsyncher",a),a.$inject=["$$stackedMap","utilsFactory"]}(),function(a,b){"use strict";angular.module("ringid.connector",["ngWebSocket","ringid.utils","ringid.config","ringid.common.stacked_map","ringid.syncher"])}(DataView,String),function(){"use strict";function a(a,b){function c(b){b&&!a.$$phase&&a.$apply()}var d=this,e={transformRequest:function(a){return a},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},responseType:"arraybuffer"},f={transformRequest:function(a){return a},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},responseType:"arraybuffer"};d.UPDATE_URL="http://localhost:8080/APIData",d.REQUEST_URL="http://localhost:8080/APIRequest",d.onOpenCallbacks=[],d.onMessageCallbacks=[],d.onErrorCallbacks=[],d.onCloseCallbacks=[],d.socket=!1,d.OPEN=!1,d.onMessage=function(a,b){if(!angular.isFunction(a))throw new Error("Callback must be a function");if(b&&angular.isDefined(b.filter)&&!angular.isString(b.filter)&&!(b.filter instanceof RegExp)&&!angular.isFunction(b.filter))throw new Error("Pattern must be a string or regular expression");d.onMessageCallbacks.push({key:b.key||"",fn:a,pattern:b?b.filter:void 0,autoApply:b?b.autoApply:!1,clearAble:b?b.clearAble:!0,dataType:b?b.dataType:0})},d._onMessageHandler=function(a){for(var b,e,f,g=0;g<d.onMessageCallbacks.length;g++)b=d.onMessageCallbacks[g],e=b.pattern,e?angular.isFunction(e)?(f=e.call(null,a),f!==!1&&(b.fn.call(d,f),c(b.autoApply))):angular.isString(e)&&a.data===e?(b.fn.call(d,a),c(b.autoApply)):e instanceof RegExp&&e.exec(a.data)&&(b.fn.call(d,a),c(b.autoApply)):(b.fn.call(d,a),c(b.autoApply))},d._onErrorHandler=function(a){for(var b=0;b<d.onErrorCallbacks.length;b++)d.onErrorCallbacks[b].call(this,a)},d._onOpenHandler=function(){for(var a=0;a<d.onOpenCallbacks.length;a++)this.onOpenCallbacks[a].call(this)},d.onOpen=function(a){return this.onOpenCallbacks.push(a),this};var g=function(a){b.post(d.UPDATE_URL,a,f).success(function(a,b,c,e){d._onMessageHandler({data:a,status:b,headers:c,config:e})}).error(function(a,b,c,e){throw d._onErrorHandler({data:a,status:b,headers:c,config:e}),new Error("error Occured While Pulling")})};d.fetch=g,d.init=function(a,b){g(a),d.OPEN=!0,d._onOpenHandler()},d.close=function(){d.OPEN=!1},d.send=function(a){return b.post(d.REQUEST_URL,a,e)},d.reconnect=function(){d.close(),d.init()},d.isOpen=function(){return d.OPEN}}angular.module("ringid.connector").service("RingHttpService",a),a.$inject=["$rootScope","$http"]}(),function(a,b){"use strict";function c(a,b){var c,d={},e={},f=function(b,c){var d,e,f,g,h={};for(d=c;d<b.byteLength;){switch(f=b.getUint16(d),d+=2,e=b.getUint8(d++),g=b.getIntByByte(d,e),f){case a.ACTION:h.actn=g;break;case a.SERVER_PACKET_ID:h.pckFs=g;break;case a.CLIENT_PACKET_ID:h.pckId=b.getString(d,e);break;case a.WEB_UNIQUE_KEY:case a.WEB_TAB_ID:break;case a.AUTHIP:h.authServer=b.getString(d,e);break;case a.AUTHPORT:h.comPort=g;break;default:return d-=3,h.headerLength=d,h}d+=e}return h},g=function(b,c){var d,e,f,g,h={actn:0,pckFs:0,total:0,current:0,key:0};for(c=c||1,d=c;d<b.byteLength;){switch(f=b.getUint8(d++),e=b.getUint8(d++),g=b.getIntByByte(d,e),f){case a.ACTION:h.actn=g;break;case a.SERVER_PACKET_ID:h.pckFs=g;break;case a.TOTAL_PACKET:h.total=g;break;case a.PACKET_NUMBER:h.current=g;break;case a.UNIQUE_KEY:h.key=g;break;case a.DATA:d--,e=b.getUint16(d),d+=2,h.data=b.copy(d,e);break;case a.WEB_UNIQUE_KEY:case a.WEB_TAB_ID:}d+=e}return h},h=function(a){var c,e,h,i,j;switch(c=a.getUint8(0)){case 0:case 2:return e=f(a,1),200===e.actn?!1:0==c?(i=a.getString(e.headerLength,a.byteLength-e.headerLength),i?angular.extend({},e,angular.fromJson(i)):!1):(i=b.parseData(a,e.headerLength),i?angular.extend({},e,i):!1);case 1:case 3:return h=g(a,1),h.key?(d[h.key]?d[h.key].packetLength++:(d[h.key]=[],d[h.key].packetLength=1),d[h.key][h.current]=h.data,h.total===d[h.key].packetLength?(j=d[h.key].joinAsDataView(),e=f(j,0),1==c?(i=j.getString(e.headerLength,j.byteLength-e.headerLength),angular.extend({},e,angular.fromJson(i))):(i=b.parseData(j,e.headerLength),i?angular.extend({},e,i):!1)):!1):!1}};return c={parse:function(a){return h(a)},addParser:function(a,b){e[a]=b}}}function d(a,b,c){var d=this,e=(a.SYSTEM,[]);e[b.SUCCESS]="success",e[b.REASON_CODE]="reasonCode",e[b.MESSAGE]="message",e[b.TOTAL_PACKET]="totalPacket",e[b.PACKET_NUMBER]="packetNo",e[b.TOTAL_RECORDS]="totalRecord",e[b.USER_TABLE_IDS]="utIds",e[b.USER_ID]="utId",e[b.USER_IDENTITY]="uId",e[b.USER_NAME]="fn",e[b.PROFILE_IMAGE]="prIm",e[b.PROFILE_IMAGE_ID]="prImId",e[b.UPDATE_TIME]="ut",e[b.CONTACT_UPDATE_TIME]="cut",e[b.CONTACT_TYPE]="ct",e[b.NEW_CONTACT_TYPE]="nct",e[b.DELETED]="deleted",e[b.BLOCK_VALUE]="bv",e[b.FRIENDSHIP_STATUS]="frnS",e[b.CHANGE_REQUESTER]="changeRequester",e[b.CONTACT]="contacts",e[b.CALL_ACCESS]="cla",e[b.CHAT_ACCESS]="chta",e[b.FEED_ACCESS]="fda",e[b.ANONYMOUS_CALL]="anc",e[b.SESSION_ID]="sessionId",e[b.MUTUAL_FRIEND_COUNT]="mutualFriends",d.parseData=function(a,c){for(var f,g,h={},i=c;i<a.byteLength;){switch(f=a.getUint16(i),i+=2,g=0,f){case b.SUCCESS:g=a.getUint8(i++),h[e[f]]=a.getBool(i);break;case b.REASON_CODE:case b.TOTAL_PACKET:case b.PACKET_NUMBER:case b.TOTAL_RECORDS:case b.USER_ID:case b.PROFILE_IMAGE_ID:case b.UPDATE_TIME:case b.CONTACT_UPDATE_TIME:case b.CONTACT_TYPE:case b.NEW_CONTACT_TYPE:case b.DELETED:case b.BLOCK_VALUE:case b.FRIENDSHIP_STATUS:case b.CHANGE_REQUESTER:case b.MUTUAL_FRIEND_COUNT:case b.CALL_ACCESS:case b.CHAT_ACCESS:case b.FEED_ACCESS:g=a.getUint8(i++),h[e[f]]=a.getIntByByte(i,g);break;case b.MESSAGE:case b.USER_NAME:case b.USER_IDENTITY:case b.PROFILE_IMAGE:case b.SESSION_ID:g=a.getUint8(i++),h[e[f]]=a.getString(i,g);break;case b.USER_TABLE_IDS:g=a.getUint16(i),i+=2,h[e[f]]=[];for(var j,k,l,m=i;i+g>m;)j=a.getIntByByte(m,8),m+=8,k=a.getUint8(m++),l=a.getUint8(m++),h[e[f]].push({key:j,value:{ct:k,mb:l}});break;case b.CONTACT:g=a.getUint16(i),i+=2,angular.isArray(h[e[f]])||(h[e[f]]=new Array),h[e[f]].push(d.parseData(a.copy(i,g),0));break;default:g=a.getUint8(i++)}i+=g}return h}}angular.module("ringid.connector").factory("RingParser",c).service("parserService",d),c.$inject=["ATTRIBUTE_CODES","parserService"],d.$inject=["OPERATION_TYPES","ATTRIBUTE_CODES","$$stackedMap"]}(DataView,String),function(a,b){"use strict";function c(b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){var b=d.sId||"",c=2,e=new ArrayBuffer(b.length+2),f=new a(e);return f.setUint8(0,m.SYSTEM.REQUEST_TYPE.KEEP_ALIVE),f.setUint8(1,0),b.length&&angular.forEach(b.toCharCodeArray(),function(a){f.setUint8(c++,a)}),f}function q(){x.reconnect(),x.socket||x.init(p()),J()}function r(b,c,d,e){var f,g,i,k,l,m,n=[],p=129,q=0,r=c.byteLength,s=Math.ceil(r/o),t=j.getUniqueID().toString(),u=128>s?1:2;for(g=0;s>g;g++)if(m=new ArrayBuffer(p),l=new a(m),l.setUint8(0,b),l.setUint8(1,1),f=2,d.actn&&(f=l.addAttributeInt(f,h.ACTION,2,d.actn)),e&&(e=e.toString(),f=l.addAttributeString(f,h.CLIENT_PACKET_ID,e)),f=l.addAttributeInt(f,h.TOTAL_PACKET,u,s),f=l.addAttributeInt(f,h.PACKET_NUMBER,u,g),f=l.addAttributeString(f,h.UNIQUE_KEY,t),k=o*(g+1),k>r&&(k=r),i=l.merge(0,f,c,q,k),q=k,x.socket){if(g==s-1)return i;x.send(i)}else n.push(i);n.length}var s,t,u,v,w,x,y,z={},A={},B=g.createNew();t="localhost",u="8080",v=d.uId,w=d.sId;var C=function(a){return function(b){if(!b||!b.actn)return!1;if(!angular.isArray(a))return b.actn==a;for(var c=0;c<a.length;c++)if(b.actn==a[c])return!0;return!1}},D=function(a){return a?b.parse(a):{}},E=function(a){return z[a.pckId]?(z[a.pckId].resolve(a),delete z[a.pckId],!0):!1},F=function(a){B.length()>0&&B.doForAll(function(b){var c,d=b.filter;d?angular.isFunction(d)&&(c=d.call(null,a),c!==!1&&b.fn.call(b,a)):b.fn.call(self,a),b.autoApply&&!b.scope.$$phase&&b.scope.$digest()})},G=function(a){if(a){var b;if(a.hasOwnProperty("pckId")&&a.actn!==m.SYSTEM.TYPE_INVALID_LOGIN_SESSION&&(b=E(a)),a.hasOwnProperty("pckFs")){var c=a.pckFs;A[c]||(F(a),A[c]=!0)}else b||F(a)}},H=function(b,c){var d,e,f;try{if(d=new a(b.data||b),!d.byteLength)throw new Error("Byte Length of Zero")}catch(g){return}if(x.socket)b=D(d),G(b);else for(var h=0;h<d.byteLength;)if(e=d.getUint16(h,!0),h+=2,e>0)try{f=d.copy(h,e),b=D(f),G(b)}catch(g){}finally{h+=e}},I=function(a){angular.isObject(x)||(j.hasSocket()&&(x=f("ws://"+t+":"+u+"/DataSocket")),x&&x.socket?x.socket.binaryType="arraybuffer":x=c,a.fetch&&(x.socket||x.init(p()),J()),x.onMessage(H,{}))},J=function(){y=n(function(){x.socket?x.send(p()):x.fetch(p())},5e3)},K=function(b,c,e){var f,g,h,i=0;return c=c||{},c.pckId=b,d.sId&&d.sId.length>10&&(c.sId=d.sId),c.tbid=j.tabId,c.dvc=5,g=angular.toJson(c),f=new ArrayBuffer(g.length+2),h=new a(f),h.setUint8(i++,e),h.setUint8(i++,0),g.length&&angular.forEach(g.toCharCodeArray(),function(a){h.setUint8(i++,a)}),g.length>o?r(e,h,c,b):h},L=function(a,b,c){var d,e;return e=j.getUniqueID(),d=K(e,a,b),c&&(z[e]=c),x.send(d)},M=function(a,b){var c,d=k.defer();return c=L(a,b,d),x.socket||c.success(function(a,b,c){H(a,!0)}),setTimeout(function(){d.notify(l.REQUEST_SENT)},10),d.promise};return s={init:I,close:function(){return x.close()},send:function(a,b){L(a,b)},request:function(a,b){return M(a,b)},subscribe:function(a,b){return b=b||{},b.key=b.key||j.getUniqueID(),b.scope=b.scope||e,b.autoApply=b.autoApply||!1,b.fn=a||angular.noop,!b.filter&&b.action&&(b.filter=C(b.action)),B.add(b.key,b),b.key},unsubscribe:function(a){B.remove(a)}},e.$on("ringActive",function(a){x.isOpen()||q()}),e.$on("ringInactive",function(a){}),s}angular.module("ringid.connector").factory("$$connector",c),c.$inject=["RingParser","RingHttpService","$cookies","$rootScope","$websocket","$$stackedMap","ATTRIBUTE_CODES","$$rgsyncher","utilsFactory","$q","CUSTOM_PROMISE","OPERATION_TYPES","$interval","CLIENT_DATA_SIZE"]}(DataView,String),function(){"use strict";function a(a,b){return{getList:function(){return a.get(b.baseUrl+"/resources/countries.json")}}}angular.module("ringid.common.services",["ringid.config","ngWebSocket","ngCookies"]).factory("countryListService",a).config(["$httpProvider",function(a){}]),a.$inject=["$http","settings"]}(),function(){"use strict";function a(a){var b;if(window.XMLHttpRequest)b=new XMLHttpRequest;else try{return new ActiveXObject("MSXML2.XMLHTTP.6.0")}catch(c){try{b=new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(c){b=null}}var d={send:function(c,d){if(b){var e=a.defer();b.onreadystatechange=function(){4===b.readyState&&e.resolve(b.response)},b.open("GET",c,!0),b.responseType="arraybuffer",b.send("")}return e.promise}};return d}angular.module("ringid.common.services").factory("$ringhttp",a),a.$inject=["$q"]}(),function(){"use strict";angular.module("ringid.auth",["ngStorage","ngWebSocket","ringid.config","ringid.connector","ringid.common.services"])}(),function(){"use strict";function a(a,b,c,d,e,f){var g=this,h=f.SYSTEM.REQUEST_TYPE,i=f.SYSTEM,j=f.SYSTEM.AUTH;g.go=function(b,c,d){return a.request(b,c,d)},g.login=function(a){var b="+878"===a.login_type?1:2,c=d.getUniqueID(),e={usrPw:a.password,ringId:a.username,ringID:a.username,actn:i.AUTH.TYPE_SIGN_IN,lt:b,vsn:i.VERSION,wk:c,dvc:5,tbid:d.tabId};return 1===b?e.uId=a.username:(e.mbl=a.username,e.mblDc=a.login_type),g.go(e,h.AUTHENTICATION,{lt:b,uId:a.username,wk:c,tbid:d.tabId})},g.logout=function(){var b={actn:j.TYPE_SIGN_OUT};return a.request(b,h.AUTHENTICATION)},g.isValidSession=function(b){return a.request({actn:j.TYPE_SESSION_VALIDATION,utId:b},h.AUTHENTICATION)},g.signupInit=function(){var a={operation:i.SIGNUP_INIT};return g.go(a)},g.signupSendEmail=function(a){var b={operation:i.SIGNUP_SEND_EMAIL,user_email:a.email};return a=angular.extend({},b,a||{}),g.go(a)},g.signupVerifyEmail=function(a){var b={operation:i.SIGNUP_VERIFY_EMAIL,code:a.code};return a=angular.extend({},b,a||{}),g.go(a)},g.signup=function(a){var b={operation:i.SIGNUP,user_full_name:a.name,user_password:a.password};return a=angular.extend({},b,a||{}),g.go(a)}}function b(a){return{login:function(b){return a.login(b)},logout:function(){return a.logout()},isValidSession:function(b){return a.isValidSession(b)}}}function c(a){return{initiateSignup:function(){return a.signupInit()},sendEmail:function(b){return a.signupSendEmail({user_email:b})},verifyEmail:function(b){return a.signupVerifyEmail({code:b})},signUp:function(b){return a.signup(b)}}}angular.module("ringid.auth").service("authHttpService",a).factory("userLoginFactory",b).factory("userSignupFactory",c),a.$inject=["$$connector","$ringhttp","settings","utilsFactory","$http","OPERATION_TYPES"],b.$inject=["authHttpService"],c.$inject=["authHttpService"]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(a){m.credentials.login_type=a.code,m.countryFlag=a.flagcode}function k(e,f){f.preventDefault(),e&&(m.loginError=!1,m.disableForm=!0,m.loginProgress=!0,d.login(m.credentials).then(function(d){d.sucs===!0?(b.loginData=d,a.uId=d.uId,a.sId=d.sId,a.authServer=d.authServer,a.comPort=d.comPort,a.la=(new Date).getTime(),h(function(){i.location.href=c.baseUrl+"dashboard.html"},200)):d.sucs===!1&&(m.loginError=!0,m.disableForm=!1,m.loginProgress=!1,d.msg?m.loginErrorMsg=d.msg:m.loginErrorMsg="Incorrect Phone Number Or Password")},function(a){}))}function l(){e.initiateSignup().success(function(a){var b=angular.fromJson(a);b.sucs===!0&&(m.signIn=!1,m.signUp=!0)}).error(function(a){})}var m=g;m.signIn=!0,m.signUp=!1,m.credentials={username:"",password:"",login_type:"+878"},m.countryFlag="r878",m.loginError=!1,m.loginErrorMsg="",m.disableForm=!1,m.loginProgress=!1,m.login=k,m.showSignup=l,m.setPrefix=j,m.ddHtml='<ul ng-show="showDropdown" id="countrylist" class="ringdropdown" rg-scrollbar="scrollbar()"><a ><li class="flag r878" ng-click="ddAction()({ country:\'RingID\', code:\'+878\', flagcode:\'r878\'})" > <span>RingID</span></li></a><a ng-repeat="item in ddControl.countryList"><li class="flag {{item.flagcode}}" ng-click="ddAction()(item)" > <span> {{ item.country }}</span></li></a></ul>',m.ddControl={listData:[]},f.getList().success(function(a){m.ddControl.countryList=a})}angular.module("ringid.auth").controller("LoginController",a),a.$inject=["$cookies","$localStorage","settings","userLoginFactory","userSignupFactory","countryListService","$scope","$timeout","$window"]}(),function(){"use strict";function a(a,b,c){function d(){return e.credentials.name.length>1&&e.credentials.password.length>1&&e.credentials.password===e.repassword?!0:!1}var e=this;e.email="",e.verificationCode="",e.repassword="",e.credentials={name:"",password:""},e.newUid="",e.signupStep1=!0,e.signupStep2=!1,e.signupStep3=!1,e.reset=function(a){a.preventDefault(),e.credentials.name="",e.credentials.password="",e.repassword=""},e.sendEmail=function(a){a.preventDefault(),e.email&&e.email.length>1&&b.sendEmail(e.email).success(function(a){var b=angular.fromJson(a);c.log(a),b.sucs===!0&&(e.signupStep1=!1,e.signupStep2=!0)}).error(function(a){c.error(angular.fromJson(a))})},e.verifyEmail=function(a){a.preventDefault(),e.verificationCode.length>1&&b.verifyEmail(e.verificationCode).success(function(a){var b=angular.fromJson(a);b.sucs===!0&&(e.newUid=b.uId,e.signupStep2=!1,e.signupStep3=!0)}).error(function(a){c.error(angular.fromJson(a))})},e.signUpUser=function(f){f.preventDefault(),d()&&b.signUp(e.credentials).success(function(b){var c=angular.fromJson(b);c.sucs===!0&&(a.login.signIn=!0,a.login.signUp=!1)}).error(function(a){c.error(angular.fromJson(a))})}}angular.module("ringid.auth").controller("RegisterController",a),a.$inject=["$scope","userSignupFactory","$log"]}(),function(){"use strict";function a(a,b){a.accept=!1,"1"===b.accept?a.accept=!1:a.accept=!0,a.callAccept=function(){b.accept=1,a.accept=!1},a.signIn=!0,a.signUp=!1,a.reloadHome=function(){location.href="/"},a.scroll=0,a.ringlogocircle="images/slider/ring_logo_circle.png",a.ringlogoleft="images/slider/ring_logo_left.png"}function b(a,b,c){}function c(a,b){a.images=[],a.loadData=function(c){b.get(c).success(function(b){a.images=b,a.selectedImage=a.images[0]})},a.selected=0,a.selectImage=function(b){a.selected=b,a.selectedImage=a.images[b]}}function d(a){return{scope:{scroll:"=scrollPosition"},link:function(b,c,d){function e(){if("undefined"!=typeof pageYOffset)return pageYOffset;var a=document.body,b=document.documentElement;return b=b.clientHeight?b:a,b.scrollTop}var f=angular.element(a),g=function(){b.scroll=e()};f.on("scroll",b.$apply.bind(b,g)),g()}}}angular.module("ringid",["ngWebSocket","ngStorage","ngCookies","ngAnimate","ngRoute","ringid.config","ringid.auth","ringid.sticker","ringid.common.rgslider_directive","ringid.common.rgscrollbar_directive","ringid.common.rgdropdown_directive","ringid.common.rgaccordion_directive","ringid.common.rgscrolltotop_directive","ringid.common.rgclick_directive","ringid.connector","ringid.ringbox"]).controller("ApplicationController",a).controller("MediaAcceptController",b).controller("ImageController",c).directive("scrollPosition",d).run(["$$connector",function(a){a.init({fetch:!1})}]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/features",{templateUrl:"pages/welcome/features.html"})}]),a.$inject=["$scope","$cookies"],b.$inject=["$scope","$cookies","$boxInstance"],c.$inject=["$scope","$http"],d.$inject=["$window"]}(),function(){"use strict";angular.module("ringid.common.rgslider_directive",[]).directive("rgSlider",function(){return{link:function(a,b,c){function d(){for(x.removeClass("active"),x.eq(o).addClass("active"),y.removeClass("active"),y.eq(o).addClass("active"),n=0;n<r.length;n++)r[n].find("li").removeClass("active"),r[n].find("li").eq(o).addClass("active");G[0]&&j(m(o)),p&&(o=o+1==x.length?0:o+1,e())}function e(){q=setTimeout(function(){d()},w)}function f(){clearTimeout(q)}function g(a){for(var b=a.parentNode.childNodes,c=0,d=0;d<b.length;d++){if(b[d]==a)return c;1==b[d].nodeType&&c++}return-1}function h(){var a;for(n=0;n<z.length;n++)a=angular.element(z[n]),r.push(a),a.find("li").on("click",function(a){o=g(this),f(),d()});x.on("mouseenter",function(a){a.stopPropagation(),p=!1,f()}),x.on("mouseleave",function(a){a.stopPropagation(),p=!0,e()}),y.on("mouseenter",function(a){a.stopPropagation(),p=!1,f()}),y.on("mouseleave",function(a){a.stopPropagation(),p=!0,e()})}function i(){var a,b,c,e,g,h,i;for(a=F[0].clientWidth,b=F[0].clientHeight,c=1,e=Math.round(H/2)-Math.round(a/2),g=Math.round(I/2)-Math.round(b/2),G[J]={w:a,h:b,o:c,l:e,t:g,z:J,i:0},i=A,h=J,n=J+1;n<F.length;n++)i*=B,a=C*G[n-1].w,b=C*G[n-1].h,c=D*G[n-1].o,e=G[n-1].l+G[n-1].w+i-a,--h,g=Math.round(I/2)-Math.round(b/2),G[n]={w:a,h:b,o:c,l:e,t:g,z:h,i:n};for(i=A,h=J,n=J-1;n>=0;n--)i*=B,a=C*G[n+1].w,b=C*G[n+1].h,c=D*G[n+1].o,e=G[n+1].l-i,--h,g=Math.round(I/2)-Math.round(b/2),G[n]={w:a,h:b,o:c,l:e,t:g,z:h,i:n};for(n=0;n<F.length;n++)F[n].orgPos=n,F[n].crslPos=n,F[n].addEventListener("click",function(a){this.crslPos!=J&&(o=this.orgPos,f(),d(),j(this))})}function j(a){k(a),l()}function k(a){for(var b,c=a.crslPos<J?"forward":"backward";a.crslPos!=J;)for("forward"==c?(b=F.pop(),F.unshift(b)):(b=F.shift(),F.push(b)),n=0;n<F.length;n++)F[n].crslPos=n,F[n].className="";a.className="active"}function l(){for(n=0;n<F.length;n++)F[n].style.width=G[n].w+"px",F[n].style.height=G[n].h+"px",F[n].style.opacity=G[n].o,F[n].style.left=G[n].l+"px",F[n].style.top=G[n].t+"px",F[n].style.zIndex=G[n].z,G[n].i=n}function m(a){for(n=0;n<F.length;n++)if(a==F[n].orgPos)return F[n]}var n,o=0,p=!0,q=null,r=[],s=b[0],t=c.navClass||"",u=c.slideClass||"",v=c.descClass||"",w=1e3*parseInt(c.delay)||3e3,x=angular.element(s.querySelectorAll("."+u)),y=angular.element(s.querySelectorAll("."+v)),z=s.querySelectorAll("."+t)||{},A=125,B=.6,C=.7,D=.8,E=s.querySelector(".nav-carousel"),F=E.querySelectorAll("img");F=Array.prototype.slice.call(F);var G=[],H=E.clientWidth,I=E.clientHeight,J=Math.floor(F.length/2);h(),d(),F[0].addEventListener("load",function(){i(),j(F[0])})}}})}(),function(){"use strict";function a(){function a(a){for(var b=document.getElementById(a),c=b.offsetTop,d=b;d.offsetParent&&d.offsetParent!=document.body;)d=d.offsetParent,c+=d.offsetTop;return c}function b(b,c,d){window.onscroll=function(){pageYOffset>=500?document.getElementById("back-top").style.opacity=1:document.getElementById("back-top").style.opacity=0},c.bind("click",function(b){b.preventDefault(),b.stopPropagation();var c=d.offset||0,e=self.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0,f=a(d.scrollTop)-parseInt(c),g=f>e?f-e:e-f;if(100>g)return void scrollTo(0,f);var h=Math.round(g/100);h>=20&&(h=20);var i=Math.round(g/25),j=f>e?e+i:e-i,k=0;if(f>e)for(var l=e;f>l;l+=i)setTimeout("window.scrollTo(0, "+j+")",k*h),j+=i,j>f&&(j=f),k++;else for(var l=e;l>f;l-=i)setTimeout("window.scrollTo(0, "+j+")",k*h),j-=i,f>j&&(j=f),k++})}return{restrict:"A",link:b}}angular.module("ringid.common.rgscrolltotop_directive",[]).directive("scrollTop",a)}();